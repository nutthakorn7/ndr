import{j as d,u as Zi}from"./components-core-CnaLEL4G.js";import{r as H,h as Ki,M as Qi,i as Ji,b as vn,D as ea,A as xt,N as In,j as ta,k as Yt,l as na,m as ra,W as Ir,n as ia,o as Dr,T as $r,C as Lr,c as aa,a as oa,e as sa,p as la,G as Fr,q as ca,s as ua,t as fa,u as ha,v as da,w as pa,S as ga,Z as ma,E as ya}from"./vendor-icons-BDNhdNL_.js";import{i as va,b as Dn,c as _a,d as $n,e as xa,f as ba,g as wa,o as ka,s as ja,m as Ln,h as Fn,R as Zt,A as Ur,C as Hr,X as qr,Y as Vr,T as Kt,L as Un,j as Qt,P as Sa,k as Aa,l as Na}from"./vendor-charts-D7ahKQGc.js";import{g as Ca}from"./vendor-react-OvXVS5lI.js";import{a as Le}from"./components-dashboard-wlfKducc.js";const Br=H.createContext(void 0);function ad({children:e}){const[n,r]=H.useState(()=>localStorage.getItem("theme")||"dark");H.useEffect(()=>{localStorage.setItem("theme",n),document.documentElement.setAttribute("data-theme",n)},[n]);const i=()=>{r(a=>a==="dark"?"light":"dark")};return d.jsx(Br.Provider,{value:{theme:n,toggleTheme:i},children:e})}function Ta(){const e=H.useContext(Br);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Pa(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}function Ma(e,n,r){return n=La(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Hn(e,n){return Ra(e)||Pa(e,n)||Gr(e,n)||Da()}function Oa(e){return Ea(e)||za(e)||Gr(e)||Ia()}function Ea(e){if(Array.isArray(e))return Jt(e)}function Ra(e){if(Array.isArray(e))return e}function za(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gr(e,n){if(e){if(typeof e=="string")return Jt(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jt(e,n)}}function Jt(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function Ia(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Da(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $a(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function La(e){var n=$a(e,"string");return typeof n=="symbol"?n:String(n)}var Fa=function(n,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(Oa(Object.entries(n).filter(function(a){var o=Hn(a,1),s=o[0];return!i.has(s)}).map(function(a){var o=Hn(a,2),s=o[0],l=o[1];return Ma({},s,l)}))))};function en(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Ua(e){if(Array.isArray(e))return e}function Ha(e){if(Array.isArray(e))return en(e)}function qa(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Va(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}function Ba(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ga(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wa(e,n){return Ua(e)||Va(e,n)||Wr(e,n)||Ba()}function qn(e){return Ha(e)||qa(e)||Wr(e)||Ga()}function Wr(e,n){if(e){if(typeof e=="string")return en(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,n):void 0}}function Xa(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,i=r===void 0?"div":r,a=n.nodeMapper,o=a===void 0?function(h){return h}:a,s=n.methodNames,l=s===void 0?[]:s,c=n.initPropNames,f=c===void 0?[]:c;return H.forwardRef(function(h,u){var p=H.useRef(),g=H.useMemo(function(){var _=Object.fromEntries(f.filter(function(m){return h.hasOwnProperty(m)}).map(function(m){return[m,h[m]]}));return e(_)},[]);Vn(function(){g(o(p.current))},H.useLayoutEffect),Vn(function(){return g._destructor instanceof Function?g._destructor:void 0});var y=H.useCallback(function(_){for(var m=arguments.length,j=new Array(m>1?m-1:0),S=1;S<m;S++)j[S-1]=arguments[S];return g[_]instanceof Function?g[_].apply(g,j):void 0},[g]),v=H.useRef({});return Object.keys(Fa(h,[].concat(qn(l),qn(f)))).filter(function(_){return v.current[_]!==h[_]}).forEach(function(_){return y(_,h[_])}),v.current=h,H.useImperativeHandle(u,function(){return Object.fromEntries(l.map(function(_){return[_,function(){for(var m=arguments.length,j=new Array(m),S=0;S<m;S++)j[S]=arguments[S];return y.apply(void 0,[_].concat(j))}]}))},[y]),Ki.createElement(i,{ref:p})})}function Vn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.useEffect,r=H.useRef(),i=H.useRef(!1),a=H.useRef(!1),o=H.useState(0),s=Wa(o,2);s[0];var l=s[1];i.current&&(a.current=!0),n(function(){return i.current||(r.current=e(),i.current=!0),l(function(c){return c+1}),function(){a.current&&r.current&&r.current()}},[])}var tn="http://www.w3.org/1999/xhtml";const Bn={svg:"http://www.w3.org/2000/svg",xhtml:tn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mt(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Bn.hasOwnProperty(n)?{space:Bn[n],local:e}:e}function Ya(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===tn&&n.documentElement.namespaceURI===tn?n.createElement(e):n.createElementNS(r,e)}}function Za(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xr(e){var n=Mt(e);return(n.local?Za:Ya)(n)}function Ka(){}function _n(e){return e==null?Ka:function(){return this.querySelector(e)}}function Qa(e){typeof e!="function"&&(e=_n(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,l=i[a]=new Array(s),c,f,h=0;h<s;++h)(c=o[h])&&(f=e.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),l[h]=f);return new ie(i,this._parents)}function Ja(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function eo(){return[]}function Yr(e){return e==null?eo:function(){return this.querySelectorAll(e)}}function to(e){return function(){return Ja(e.apply(this,arguments))}}function no(e){typeof e=="function"?e=to(e):e=Yr(e);for(var n=this._groups,r=n.length,i=[],a=[],o=0;o<r;++o)for(var s=n[o],l=s.length,c,f=0;f<l;++f)(c=s[f])&&(i.push(e.call(c,c.__data__,f,s)),a.push(c));return new ie(i,a)}function Zr(e){return function(){return this.matches(e)}}function Kr(e){return function(n){return n.matches(e)}}var ro=Array.prototype.find;function io(e){return function(){return ro.call(this.children,e)}}function ao(){return this.firstElementChild}function oo(e){return this.select(e==null?ao:io(typeof e=="function"?e:Kr(e)))}var so=Array.prototype.filter;function lo(){return Array.from(this.children)}function co(e){return function(){return so.call(this.children,e)}}function uo(e){return this.selectAll(e==null?lo:co(typeof e=="function"?e:Kr(e)))}function fo(e){typeof e!="function"&&(e=Zr(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,l=i[a]=[],c,f=0;f<s;++f)(c=o[f])&&e.call(c,c.__data__,f,o)&&l.push(c);return new ie(i,this._parents)}function Qr(e){return new Array(e.length)}function ho(){return new ie(this._enter||this._groups.map(Qr),this._parents)}function bt(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}bt.prototype={constructor:bt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function po(e){return function(){return e}}function go(e,n,r,i,a,o){for(var s=0,l,c=n.length,f=o.length;s<f;++s)(l=n[s])?(l.__data__=o[s],i[s]=l):r[s]=new bt(e,o[s]);for(;s<c;++s)(l=n[s])&&(a[s]=l)}function mo(e,n,r,i,a,o,s){var l,c,f=new Map,h=n.length,u=o.length,p=new Array(h),g;for(l=0;l<h;++l)(c=n[l])&&(p[l]=g=s.call(c,c.__data__,l,n)+"",f.has(g)?a[l]=c:f.set(g,c));for(l=0;l<u;++l)g=s.call(e,o[l],l,o)+"",(c=f.get(g))?(i[l]=c,c.__data__=o[l],f.delete(g)):r[l]=new bt(e,o[l]);for(l=0;l<h;++l)(c=n[l])&&f.get(p[l])===c&&(a[l]=c)}function yo(e){return e.__data__}function vo(e,n){if(!arguments.length)return Array.from(this,yo);var r=n?mo:go,i=this._parents,a=this._groups;typeof e!="function"&&(e=po(e));for(var o=a.length,s=new Array(o),l=new Array(o),c=new Array(o),f=0;f<o;++f){var h=i[f],u=a[f],p=u.length,g=_o(e.call(h,h&&h.__data__,f,i)),y=g.length,v=l[f]=new Array(y),_=s[f]=new Array(y),m=c[f]=new Array(p);r(h,u,v,_,m,g,n);for(var j=0,S=0,x,w;j<y;++j)if(x=v[j]){for(j>=S&&(S=j+1);!(w=_[S])&&++S<y;);x._next=w||null}}return s=new ie(s,i),s._enter=l,s._exit=c,s}function _o(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xo(){return new ie(this._exit||this._groups.map(Qr),this._parents)}function bo(e,n,r){var i=this.enter(),a=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(a=n(a),a&&(a=a.selection())),r==null?o.remove():r(o),i&&a?i.merge(a).order():a}function wo(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,a=r.length,o=i.length,s=Math.min(a,o),l=new Array(a),c=0;c<s;++c)for(var f=r[c],h=i[c],u=f.length,p=l[c]=new Array(u),g,y=0;y<u;++y)(g=f[y]||h[y])&&(p[y]=g);for(;c<a;++c)l[c]=r[c];return new ie(l,this._parents)}function ko(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],a=i.length-1,o=i[a],s;--a>=0;)(s=i[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function jo(e){e||(e=So);function n(u,p){return u&&p?e(u.__data__,p.__data__):!u-!p}for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],l=s.length,c=a[o]=new Array(l),f,h=0;h<l;++h)(f=s[h])&&(c[h]=f);c.sort(n)}return new ie(a,this._parents).order()}function So(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Ao(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function No(){return Array.from(this)}function Co(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;++a){var s=i[a];if(s)return s}return null}function To(){let e=0;for(const n of this)++e;return e}function Po(){return!this.node()}function Mo(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var a=n[r],o=0,s=a.length,l;o<s;++o)(l=a[o])&&e.call(l,l.__data__,o,a);return this}function Oo(e){return function(){this.removeAttribute(e)}}function Eo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ro(e,n){return function(){this.setAttribute(e,n)}}function zo(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function Io(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Do(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function $o(e,n){var r=Mt(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?Eo:Oo:typeof n=="function"?r.local?Do:Io:r.local?zo:Ro)(r,n))}function Jr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lo(e){return function(){this.style.removeProperty(e)}}function Fo(e,n,r){return function(){this.style.setProperty(e,n,r)}}function Uo(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function Ho(e,n,r){return arguments.length>1?this.each((n==null?Lo:typeof n=="function"?Uo:Fo)(e,n,r??"")):Fe(this.node(),e)}function Fe(e,n){return e.style.getPropertyValue(n)||Jr(e).getComputedStyle(e,null).getPropertyValue(n)}function qo(e){return function(){delete this[e]}}function Vo(e,n){return function(){this[e]=n}}function Bo(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Go(e,n){return arguments.length>1?this.each((n==null?qo:typeof n=="function"?Bo:Vo)(e,n)):this.node()[e]}function ei(e){return e.trim().split(/^|\s+/)}function xn(e){return e.classList||new ti(e)}function ti(e){this._node=e,this._names=ei(e.getAttribute("class")||"")}ti.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ni(e,n){for(var r=xn(e),i=-1,a=n.length;++i<a;)r.add(n[i])}function ri(e,n){for(var r=xn(e),i=-1,a=n.length;++i<a;)r.remove(n[i])}function Wo(e){return function(){ni(this,e)}}function Xo(e){return function(){ri(this,e)}}function Yo(e,n){return function(){(n.apply(this,arguments)?ni:ri)(this,e)}}function Zo(e,n){var r=ei(e+"");if(arguments.length<2){for(var i=xn(this.node()),a=-1,o=r.length;++a<o;)if(!i.contains(r[a]))return!1;return!0}return this.each((typeof n=="function"?Yo:n?Wo:Xo)(r,n))}function Ko(){this.textContent=""}function Qo(e){return function(){this.textContent=e}}function Jo(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function es(e){return arguments.length?this.each(e==null?Ko:(typeof e=="function"?Jo:Qo)(e)):this.node().textContent}function ts(){this.innerHTML=""}function ns(e){return function(){this.innerHTML=e}}function rs(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function is(e){return arguments.length?this.each(e==null?ts:(typeof e=="function"?rs:ns)(e)):this.node().innerHTML}function as(){this.nextSibling&&this.parentNode.appendChild(this)}function os(){return this.each(as)}function ss(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ls(){return this.each(ss)}function cs(e){var n=typeof e=="function"?e:Xr(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function us(){return null}function fs(e,n){var r=typeof e=="function"?e:Xr(e),i=n==null?us:typeof n=="function"?n:_n(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function hs(){var e=this.parentNode;e&&e.removeChild(this)}function ds(){return this.each(hs)}function ps(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function gs(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ms(e){return this.select(e?gs:ps)}function ys(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vs(e){return function(n){e.call(this,n,this.__data__)}}function _s(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function xs(e){return function(){var n=this.__on;if(n){for(var r=0,i=-1,a=n.length,o;r<a;++r)o=n[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function bs(e,n,r){return function(){var i=this.__on,a,o=vs(n);if(i){for(var s=0,l=i.length;s<l;++s)if((a=i[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=n;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:n,listener:o,options:r},i?i.push(a):this.__on=[a]}}function ws(e,n,r){var i=_s(e+""),a,o=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,f=l.length,h;c<f;++c)for(a=0,h=l[c];a<o;++a)if((s=i[a]).type===h.type&&s.name===h.name)return h.value}return}for(l=n?bs:xs,a=0;a<o;++a)this.each(l(i[a],n,r));return this}function ii(e,n,r){var i=Jr(e),a=i.CustomEvent;typeof a=="function"?a=new a(n,r):(a=i.document.createEvent("Event"),r?(a.initEvent(n,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(n,!1,!1)),e.dispatchEvent(a)}function ks(e,n){return function(){return ii(this,e,n)}}function js(e,n){return function(){return ii(this,e,n.apply(this,arguments))}}function Ss(e,n){return this.each((typeof n=="function"?js:ks)(e,n))}function*As(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&(yield s)}var ai=[null];function ie(e,n){this._groups=e,this._parents=n}function lt(){return new ie([[document.documentElement]],ai)}function Ns(){return this}ie.prototype=lt.prototype={constructor:ie,select:Qa,selectAll:no,selectChild:oo,selectChildren:uo,filter:fo,data:vo,enter:ho,exit:xo,join:bo,merge:wo,selection:Ns,order:ko,sort:jo,call:Ao,nodes:No,node:Co,size:To,empty:Po,each:Mo,attr:$o,style:Ho,property:Go,classed:Zo,text:es,html:is,raise:os,lower:ls,append:cs,insert:fs,remove:ds,clone:ms,datum:ys,on:ws,dispatch:Ss,[Symbol.iterator]:As};function se(e){return typeof e=="string"?new ie([[document.querySelector(e)]],[document.documentElement]):new ie([[e]],ai)}function Cs(e){let n;for(;n=e.sourceEvent;)e=n;return e}function ge(e,n){if(e=Cs(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}var Ts={value:()=>{}};function ct(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new gt(r)}function gt(e){this._=e}function Ps(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",a=r.indexOf(".");if(a>=0&&(i=r.slice(a+1),r=r.slice(0,a)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}gt.prototype=ct.prototype={constructor:gt,on:function(e,n){var r=this._,i=Ps(e+"",r),a,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((a=(e=i[o]).type)&&(a=Ms(r[a],e.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(a=(e=i[o]).type)r[a]=Gn(r[a],e.name,n);else if(n==null)for(a in r)r[a]=Gn(r[a],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new gt(e)},call:function(e,n){if((a=arguments.length-2)>0)for(var r=new Array(a),i=0,a,o;i<a;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(n,r)}};function Ms(e,n){for(var r=0,i=e.length,a;r<i;++r)if((a=e[r]).name===n)return a.value}function Gn(e,n,r){for(var i=0,a=e.length;i<a;++i)if(e[i].name===n){e[i]=Ts,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const Os={passive:!1},it={capture:!0,passive:!1};function Lt(e){e.stopImmediatePropagation()}function $e(e){e.preventDefault(),e.stopImmediatePropagation()}function oi(e){var n=e.document.documentElement,r=se(e).on("dragstart.drag",$e,it);"onselectstart"in n?r.on("selectstart.drag",$e,it):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function si(e,n){var r=e.document.documentElement,i=se(e).on("dragstart.drag",null);n&&(i.on("click.drag",$e,it),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const ft=e=>()=>e;function nn(e,{sourceEvent:n,subject:r,target:i,identifier:a,active:o,x:s,y:l,dx:c,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}nn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Es(e){return!e.ctrlKey&&!e.button}function Rs(){return this.parentNode}function zs(e,n){return n??{x:e.x,y:e.y}}function Is(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ds(){var e=Es,n=Rs,r=zs,i=Is,a={},o=ct("start","drag","end"),s=0,l,c,f,h,u=0;function p(x){x.on("mousedown.drag",g).filter(i).on("touchstart.drag",_).on("touchmove.drag",m,Os).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(x,w){if(!(h||!e.call(this,x,w))){var k=S(this,n.call(this,x,w),x,w,"mouse");k&&(se(x.view).on("mousemove.drag",y,it).on("mouseup.drag",v,it),oi(x.view),Lt(x),f=!1,l=x.clientX,c=x.clientY,k("start",x))}}function y(x){if($e(x),!f){var w=x.clientX-l,k=x.clientY-c;f=w*w+k*k>u}a.mouse("drag",x)}function v(x){se(x.view).on("mousemove.drag mouseup.drag",null),si(x.view,f),$e(x),a.mouse("end",x)}function _(x,w){if(e.call(this,x,w)){var k=x.changedTouches,N=n.call(this,x,w),C=k.length,R,M;for(R=0;R<C;++R)(M=S(this,N,x,w,k[R].identifier,k[R]))&&(Lt(x),M("start",x,k[R]))}}function m(x){var w=x.changedTouches,k=w.length,N,C;for(N=0;N<k;++N)(C=a[w[N].identifier])&&($e(x),C("drag",x,w[N]))}function j(x){var w=x.changedTouches,k=w.length,N,C;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),N=0;N<k;++N)(C=a[w[N].identifier])&&(Lt(x),C("end",x,w[N]))}function S(x,w,k,N,C,R){var M=o.copy(),E=ge(R||k,w),z,L,A;if((A=r.call(x,new nn("beforestart",{sourceEvent:k,target:p,identifier:C,active:s,x:E[0],y:E[1],dx:0,dy:0,dispatch:M}),N))!=null)return z=A.x-E[0]||0,L=A.y-E[1]||0,function O(T,I,$){var F=E,U;switch(T){case"start":a[C]=O,U=s++;break;case"end":delete a[C],--s;case"drag":E=ge($||I,w),U=s;break}M.call(T,x,new nn(T,{sourceEvent:I,subject:A,target:p,identifier:C,active:U,x:E[0]+z,y:E[1]+L,dx:E[0]-F[0],dy:E[1]-F[1],dispatch:M}),N)}}return p.filter=function(x){return arguments.length?(e=typeof x=="function"?x:ft(!!x),p):e},p.container=function(x){return arguments.length?(n=typeof x=="function"?x:ft(x),p):n},p.subject=function(x){return arguments.length?(r=typeof x=="function"?x:ft(x),p):r},p.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:ft(!!x),p):i},p.on=function(){var x=o.on.apply(o,arguments);return x===o?p:x},p.clickDistance=function(x){return arguments.length?(u=(x=+x)*x,p):Math.sqrt(u)},p}var Ue=0,Ke=0,qe=0,li=1e3,wt,Qe,kt=0,ze=0,Ot=0,at=typeof performance=="object"&&performance.now?performance:Date,ci=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bn(){return ze||(ci($s),ze=at.now()+Ot)}function $s(){ze=0}function jt(){this._call=this._time=this._next=null}jt.prototype=wn.prototype={constructor:jt,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?bn():+r)+(n==null?0:+n),!this._next&&Qe!==this&&(Qe?Qe._next=this:wt=this,Qe=this),this._call=e,this._time=r,rn()},stop:function(){this._call&&(this._call=null,this._time=1/0,rn())}};function wn(e,n,r){var i=new jt;return i.restart(e,n,r),i}function Ls(){bn(),++Ue;for(var e=wt,n;e;)(n=ze-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Ue}function Wn(){ze=(kt=at.now())+Ot,Ue=Ke=0;try{Ls()}finally{Ue=0,Us(),ze=0}}function Fs(){var e=at.now(),n=e-kt;n>li&&(Ot-=n,kt=e)}function Us(){for(var e,n=wt,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:wt=r);Qe=e,rn(i)}function rn(e){if(!Ue){Ke&&(Ke=clearTimeout(Ke));var n=e-ze;n>24?(e<1/0&&(Ke=setTimeout(Wn,e-at.now()-Ot)),qe&&(qe=clearInterval(qe))):(qe||(kt=at.now(),qe=setInterval(Fs,li)),Ue=1,ci(Wn))}}function Xn(e,n,r){var i=new jt;return n=n==null?0:+n,i.restart(a=>{i.stop(),e(a+n)},n,r),i}var Hs=ct("start","end","cancel","interrupt"),qs=[],ui=0,Yn=1,an=2,mt=3,Zn=4,on=5,yt=6;function Et(e,n,r,i,a,o){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;Vs(e,r,{name:n,index:i,group:a,on:Hs,tween:qs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ui})}function kn(e,n){var r=de(e,n);if(r.state>ui)throw new Error("too late; already scheduled");return r}function ve(e,n){var r=de(e,n);if(r.state>mt)throw new Error("too late; already running");return r}function de(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function Vs(e,n,r){var i=e.__transition,a;i[n]=r,r.timer=wn(o,0,r.time);function o(f){r.state=Yn,r.timer.restart(s,r.delay,r.time),r.delay<=f&&s(f-r.delay)}function s(f){var h,u,p,g;if(r.state!==Yn)return c();for(h in i)if(g=i[h],g.name===r.name){if(g.state===mt)return Xn(s);g.state===Zn?(g.state=yt,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[h]):+h<n&&(g.state=yt,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[h])}if(Xn(function(){r.state===mt&&(r.state=Zn,r.timer.restart(l,r.delay,r.time),l(f))}),r.state=an,r.on.call("start",e,e.__data__,r.index,r.group),r.state===an){for(r.state=mt,a=new Array(p=r.tween.length),h=0,u=-1;h<p;++h)(g=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++u]=g);a.length=u+1}}function l(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(c),r.state=on,1),u=-1,p=a.length;++u<p;)a[u].call(e,h);r.state===on&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=yt,r.timer.stop(),delete i[n];for(var f in i)return;delete e.__transition}}function vt(e,n){var r=e.__transition,i,a,o=!0,s;if(r){n=n==null?null:n+"";for(s in r){if((i=r[s]).name!==n){o=!1;continue}a=i.state>an&&i.state<on,i.state=yt,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]}o&&delete e.__transition}}function Bs(e){return this.each(function(){vt(this,e)})}function Gs(e,n){var r,i;return function(){var a=ve(this,e),o=a.tween;if(o!==r){i=r=o;for(var s=0,l=i.length;s<l;++s)if(i[s].name===n){i=i.slice(),i.splice(s,1);break}}a.tween=i}}function Ws(e,n,r){var i,a;if(typeof r!="function")throw new Error;return function(){var o=ve(this,e),s=o.tween;if(s!==i){a=(i=s).slice();for(var l={name:n,value:r},c=0,f=a.length;c<f;++c)if(a[c].name===n){a[c]=l;break}c===f&&a.push(l)}o.tween=a}}function Xs(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=de(this.node(),r).tween,a=0,o=i.length,s;a<o;++a)if((s=i[a]).name===e)return s.value;return null}return this.each((n==null?Gs:Ws)(r,e,n))}function jn(e,n,r){var i=e._id;return e.each(function(){var a=ve(this,i);(a.value||(a.value={}))[n]=r.apply(this,arguments)}),function(a){return de(a,i).value[n]}}function fi(e,n){var r;return(typeof n=="number"?va:n instanceof $n?Dn:(r=$n(n))?(n=r,Dn):_a)(e,n)}function Ys(e){return function(){this.removeAttribute(e)}}function Zs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ks(e,n,r){var i,a=r+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===i?o:o=n(i=s,r)}}function Qs(e,n,r){var i,a=r+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===i?o:o=n(i=s,r)}}function Js(e,n,r){var i,a,o;return function(){var s,l=r(this),c;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=l+"",s===c?null:s===i&&c===a?o:(a=c,o=n(i=s,l)))}}function el(e,n,r){var i,a,o;return function(){var s,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=l+"",s===c?null:s===i&&c===a?o:(a=c,o=n(i=s,l)))}}function tl(e,n){var r=Mt(e),i=r==="transform"?xa:fi;return this.attrTween(e,typeof n=="function"?(r.local?el:Js)(r,i,jn(this,"attr."+e,n)):n==null?(r.local?Zs:Ys)(r):(r.local?Qs:Ks)(r,i,n))}function nl(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function rl(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function il(e,n){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&rl(e,o)),r}return a._value=n,a}function al(e,n){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&nl(e,o)),r}return a._value=n,a}function ol(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=Mt(e);return this.tween(r,(i.local?il:al)(i,n))}function sl(e,n){return function(){kn(this,e).delay=+n.apply(this,arguments)}}function ll(e,n){return n=+n,function(){kn(this,e).delay=n}}function cl(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?sl:ll)(n,e)):de(this.node(),n).delay}function ul(e,n){return function(){ve(this,e).duration=+n.apply(this,arguments)}}function fl(e,n){return n=+n,function(){ve(this,e).duration=n}}function hl(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?ul:fl)(n,e)):de(this.node(),n).duration}function dl(e,n){if(typeof n!="function")throw new Error;return function(){ve(this,e).ease=n}}function pl(e){var n=this._id;return arguments.length?this.each(dl(n,e)):de(this.node(),n).ease}function gl(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;ve(this,e).ease=r}}function ml(e){if(typeof e!="function")throw new Error;return this.each(gl(this._id,e))}function yl(e){typeof e!="function"&&(e=Zr(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,l=i[a]=[],c,f=0;f<s;++f)(c=o[f])&&e.call(c,c.__data__,f,o)&&l.push(c);return new Te(i,this._parents,this._name,this._id)}function vl(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c=n[l],f=r[l],h=c.length,u=s[l]=new Array(h),p,g=0;g<h;++g)(p=c[g]||f[g])&&(u[g]=p);for(;l<i;++l)s[l]=n[l];return new Te(s,this._parents,this._name,this._id)}function _l(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function xl(e,n,r){var i,a,o=_l(n)?kn:ve;return function(){var s=o(this,e),l=s.on;l!==i&&(a=(i=l).copy()).on(n,r),s.on=a}}function bl(e,n){var r=this._id;return arguments.length<2?de(this.node(),r).on.on(e):this.each(xl(r,e,n))}function wl(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function kl(){return this.on("end.remove",wl(this._id))}function jl(e){var n=this._name,r=this._id;typeof e!="function"&&(e=_n(e));for(var i=this._groups,a=i.length,o=new Array(a),s=0;s<a;++s)for(var l=i[s],c=l.length,f=o[s]=new Array(c),h,u,p=0;p<c;++p)(h=l[p])&&(u=e.call(h,h.__data__,p,l))&&("__data__"in h&&(u.__data__=h.__data__),f[p]=u,Et(f[p],n,r,p,f,de(h,r)));return new Te(o,this._parents,n,r)}function Sl(e){var n=this._name,r=this._id;typeof e!="function"&&(e=Yr(e));for(var i=this._groups,a=i.length,o=[],s=[],l=0;l<a;++l)for(var c=i[l],f=c.length,h,u=0;u<f;++u)if(h=c[u]){for(var p=e.call(h,h.__data__,u,c),g,y=de(h,r),v=0,_=p.length;v<_;++v)(g=p[v])&&Et(g,n,r,v,p,y);o.push(p),s.push(h)}return new Te(o,s,n,r)}var Al=lt.prototype.constructor;function Nl(){return new Al(this._groups,this._parents)}function Cl(e,n){var r,i,a;return function(){var o=Fe(this,e),s=(this.style.removeProperty(e),Fe(this,e));return o===s?null:o===r&&s===i?a:a=n(r=o,i=s)}}function hi(e){return function(){this.style.removeProperty(e)}}function Tl(e,n,r){var i,a=r+"",o;return function(){var s=Fe(this,e);return s===a?null:s===i?o:o=n(i=s,r)}}function Pl(e,n,r){var i,a,o;return function(){var s=Fe(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Fe(this,e))),s===c?null:s===i&&c===a?o:(a=c,o=n(i=s,l))}}function Ml(e,n){var r,i,a,o="style."+n,s="end."+o,l;return function(){var c=ve(this,e),f=c.on,h=c.value[o]==null?l||(l=hi(n)):void 0;(f!==r||a!==h)&&(i=(r=f).copy()).on(s,a=h),c.on=i}}function Ol(e,n,r){var i=(e+="")=="transform"?ba:fi;return n==null?this.styleTween(e,Cl(e,i)).on("end.style."+e,hi(e)):typeof n=="function"?this.styleTween(e,Pl(e,i,jn(this,"style."+e,n))).each(Ml(this._id,e)):this.styleTween(e,Tl(e,i,n),r).on("end.style."+e,null)}function El(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function Rl(e,n,r){var i,a;function o(){var s=n.apply(this,arguments);return s!==a&&(i=(a=s)&&El(e,s,r)),i}return o._value=n,o}function zl(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Rl(e,n,r??""))}function Il(e){return function(){this.textContent=e}}function Dl(e){return function(){var n=e(this);this.textContent=n??""}}function $l(e){return this.tween("text",typeof e=="function"?Dl(jn(this,"text",e)):Il(e==null?"":e+""))}function Ll(e){return function(n){this.textContent=e.call(this,n)}}function Fl(e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ll(a)),n}return i._value=e,i}function Ul(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Fl(e))}function Hl(){for(var e=this._name,n=this._id,r=di(),i=this._groups,a=i.length,o=0;o<a;++o)for(var s=i[o],l=s.length,c,f=0;f<l;++f)if(c=s[f]){var h=de(c,n);Et(c,e,r,f,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Te(i,this._parents,e,r)}function ql(){var e,n,r=this,i=r._id,a=r.size();return new Promise(function(o,s){var l={value:s},c={value:function(){--a===0&&o()}};r.each(function(){var f=ve(this,i),h=f.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(c)),f.on=n}),a===0&&o()})}var Vl=0;function Te(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function di(){return++Vl}var be=lt.prototype;Te.prototype={constructor:Te,select:jl,selectAll:Sl,selectChild:be.selectChild,selectChildren:be.selectChildren,filter:yl,merge:vl,selection:Nl,transition:Hl,call:be.call,nodes:be.nodes,node:be.node,size:be.size,empty:be.empty,each:be.each,on:bl,attr:tl,attrTween:ol,style:Ol,styleTween:zl,text:$l,textTween:Ul,remove:kl,tween:Xs,delay:cl,duration:hl,ease:pl,easeVarying:ml,end:ql,[Symbol.iterator]:be[Symbol.iterator]};function Bl(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Gl={time:null,delay:0,duration:250,ease:Bl};function Wl(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function Xl(e){var n,r;e instanceof Te?(n=e._id,e=e._name):(n=di(),(r=Gl).time=bn(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,o=0;o<a;++o)for(var s=i[o],l=s.length,c,f=0;f<l;++f)(c=s[f])&&Et(c,e,n,f,s,r||Wl(c,n));return new Te(i,this._parents,e,n)}lt.prototype.interrupt=Bs;lt.prototype.transition=Xl;const ht=e=>()=>e;function Yl(e,{sourceEvent:n,target:r,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Ae(e,n,r){this.k=e,this.x=n,this.y=r}Ae.prototype={constructor:Ae,scale:function(e){return e===1?this:new Ae(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Ae(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sn=new Ae(1,0,0);pe.prototype=Ae.prototype;function pe(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Sn;return e.__zoom}function Ft(e){e.stopImmediatePropagation()}function Ve(e){e.preventDefault(),e.stopImmediatePropagation()}function Zl(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Kl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Kn(){return this.__zoom||Sn}function Ql(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Jl(){return navigator.maxTouchPoints||"ontouchstart"in this}function ec(e,n,r){var i=e.invertX(n[0][0])-r[0][0],a=e.invertX(n[1][0])-r[1][0],o=e.invertY(n[0][1])-r[0][1],s=e.invertY(n[1][1])-r[1][1];return e.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function tc(){var e=Zl,n=Kl,r=ec,i=Ql,a=Jl,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=wa,f=ct("start","zoom","end"),h,u,p,g=500,y=150,v=0,_=10;function m(A){A.property("__zoom",Kn).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(A,O,T,I){var $=A.selection?A.selection():A;$.property("__zoom",Kn),A!==$?w(A,O,T,I):$.interrupt().each(function(){k(this,arguments).event(I).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},m.scaleBy=function(A,O,T,I){m.scaleTo(A,function(){var $=this.__zoom.k,F=typeof O=="function"?O.apply(this,arguments):O;return $*F},T,I)},m.scaleTo=function(A,O,T,I){m.transform(A,function(){var $=n.apply(this,arguments),F=this.__zoom,U=T==null?x($):typeof T=="function"?T.apply(this,arguments):T,q=F.invert(U),V=typeof O=="function"?O.apply(this,arguments):O;return r(S(j(F,V),U,q),$,s)},T,I)},m.translateBy=function(A,O,T,I){m.transform(A,function(){return r(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof T=="function"?T.apply(this,arguments):T),n.apply(this,arguments),s)},null,I)},m.translateTo=function(A,O,T,I,$){m.transform(A,function(){var F=n.apply(this,arguments),U=this.__zoom,q=I==null?x(F):typeof I=="function"?I.apply(this,arguments):I;return r(Sn.translate(q[0],q[1]).scale(U.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof T=="function"?-T.apply(this,arguments):-T),F,s)},I,$)};function j(A,O){return O=Math.max(o[0],Math.min(o[1],O)),O===A.k?A:new Ae(O,A.x,A.y)}function S(A,O,T){var I=O[0]-T[0]*A.k,$=O[1]-T[1]*A.k;return I===A.x&&$===A.y?A:new Ae(A.k,I,$)}function x(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function w(A,O,T,I){A.on("start.zoom",function(){k(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(I).end()}).tween("zoom",function(){var $=this,F=arguments,U=k($,F).event(I),q=n.apply($,F),V=T==null?x(q):typeof T=="function"?T.apply($,F):T,K=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),Z=$.__zoom,ce=typeof O=="function"?O.apply($,F):O,_e=c(Z.invert(V).concat(K/Z.k),ce.invert(V).concat(K/ce.k));return function(ue){if(ue===1)ue=ce;else{var xe=_e(ue),$t=K/xe[2];ue=new Ae($t,V[0]-xe[0]*$t,V[1]-xe[1]*$t)}U.zoom(null,ue)}})}function k(A,O,T){return!T&&A.__zooming||new N(A,O)}function N(A,O){this.that=A,this.args=O,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,O),this.taps=0}N.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,O){return this.mouse&&A!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var O=se(this.that).datum();f.call(A,this.that,new Yl(A,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:f}),O)}};function C(A,...O){if(!e.apply(this,arguments))return;var T=k(this,O).event(A),I=this.__zoom,$=Math.max(o[0],Math.min(o[1],I.k*Math.pow(2,i.apply(this,arguments)))),F=ge(A);if(T.wheel)(T.mouse[0][0]!==F[0]||T.mouse[0][1]!==F[1])&&(T.mouse[1]=I.invert(T.mouse[0]=F)),clearTimeout(T.wheel);else{if(I.k===$)return;T.mouse=[F,I.invert(F)],vt(this),T.start()}Ve(A),T.wheel=setTimeout(U,y),T.zoom("mouse",r(S(j(I,$),T.mouse[0],T.mouse[1]),T.extent,s));function U(){T.wheel=null,T.end()}}function R(A,...O){if(p||!e.apply(this,arguments))return;var T=A.currentTarget,I=k(this,O,!0).event(A),$=se(A.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",K,!0),F=ge(A,T),U=A.clientX,q=A.clientY;oi(A.view),Ft(A),I.mouse=[F,this.__zoom.invert(F)],vt(this),I.start();function V(Z){if(Ve(Z),!I.moved){var ce=Z.clientX-U,_e=Z.clientY-q;I.moved=ce*ce+_e*_e>v}I.event(Z).zoom("mouse",r(S(I.that.__zoom,I.mouse[0]=ge(Z,T),I.mouse[1]),I.extent,s))}function K(Z){$.on("mousemove.zoom mouseup.zoom",null),si(Z.view,I.moved),Ve(Z),I.event(Z).end()}}function M(A,...O){if(e.apply(this,arguments)){var T=this.__zoom,I=ge(A.changedTouches?A.changedTouches[0]:A,this),$=T.invert(I),F=T.k*(A.shiftKey?.5:2),U=r(S(j(T,F),I,$),n.apply(this,O),s);Ve(A),l>0?se(this).transition().duration(l).call(w,U,I,A):se(this).call(m.transform,U,I,A)}}function E(A,...O){if(e.apply(this,arguments)){var T=A.touches,I=T.length,$=k(this,O,A.changedTouches.length===I).event(A),F,U,q,V;for(Ft(A),U=0;U<I;++U)q=T[U],V=ge(q,this),V=[V,this.__zoom.invert(V),q.identifier],$.touch0?!$.touch1&&$.touch0[2]!==V[2]&&($.touch1=V,$.taps=0):($.touch0=V,F=!0,$.taps=1+!!h);h&&(h=clearTimeout(h)),F&&($.taps<2&&(u=V[0],h=setTimeout(function(){h=null},g)),vt(this),$.start())}}function z(A,...O){if(this.__zooming){var T=k(this,O).event(A),I=A.changedTouches,$=I.length,F,U,q,V;for(Ve(A),F=0;F<$;++F)U=I[F],q=ge(U,this),T.touch0&&T.touch0[2]===U.identifier?T.touch0[0]=q:T.touch1&&T.touch1[2]===U.identifier&&(T.touch1[0]=q);if(U=T.that.__zoom,T.touch1){var K=T.touch0[0],Z=T.touch0[1],ce=T.touch1[0],_e=T.touch1[1],ue=(ue=ce[0]-K[0])*ue+(ue=ce[1]-K[1])*ue,xe=(xe=_e[0]-Z[0])*xe+(xe=_e[1]-Z[1])*xe;U=j(U,Math.sqrt(ue/xe)),q=[(K[0]+ce[0])/2,(K[1]+ce[1])/2],V=[(Z[0]+_e[0])/2,(Z[1]+_e[1])/2]}else if(T.touch0)q=T.touch0[0],V=T.touch0[1];else return;T.zoom("touch",r(S(U,q,V),T.extent,s))}}function L(A,...O){if(this.__zooming){var T=k(this,O).event(A),I=A.changedTouches,$=I.length,F,U;for(Ft(A),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),F=0;F<$;++F)U=I[F],T.touch0&&T.touch0[2]===U.identifier?delete T.touch0:T.touch1&&T.touch1[2]===U.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(U=ge(U,this),Math.hypot(u[0]-U[0],u[1]-U[1])<_)){var q=se(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return m.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:ht(+A),m):i},m.filter=function(A){return arguments.length?(e=typeof A=="function"?A:ht(!!A),m):e},m.touchable=function(A){return arguments.length?(a=typeof A=="function"?A:ht(!!A),m):a},m.extent=function(A){return arguments.length?(n=typeof A=="function"?A:ht([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),m):n},m.scaleExtent=function(A){return arguments.length?(o[0]=+A[0],o[1]=+A[1],m):[o[0],o[1]]},m.translateExtent=function(A){return arguments.length?(s[0][0]=+A[0][0],s[1][0]=+A[1][0],s[0][1]=+A[0][1],s[1][1]=+A[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(A){return arguments.length?(r=A,m):r},m.duration=function(A){return arguments.length?(l=+A,m):l},m.interpolate=function(A){return arguments.length?(c=A,m):c},m.on=function(){var A=f.on.apply(f,arguments);return A===f?m:A},m.clickDistance=function(A){return arguments.length?(v=(A=+A)*A,m):Math.sqrt(v)},m.tapDistance=function(A){return arguments.length?(_=+A,m):_},m}var nc=typeof global=="object"&&global&&global.Object===Object&&global,rc=typeof self=="object"&&self&&self.Object===Object&&self,pi=nc||rc||Function("return this")(),St=pi.Symbol,gi=Object.prototype,ic=gi.hasOwnProperty,ac=gi.toString,Be=St?St.toStringTag:void 0;function oc(e){var n=ic.call(e,Be),r=e[Be];try{e[Be]=void 0;var i=!0}catch{}var a=ac.call(e);return i&&(n?e[Be]=r:delete e[Be]),a}var sc=Object.prototype,lc=sc.toString;function cc(e){return lc.call(e)}var uc="[object Null]",fc="[object Undefined]",Qn=St?St.toStringTag:void 0;function hc(e){return e==null?e===void 0?fc:uc:Qn&&Qn in Object(e)?oc(e):cc(e)}function dc(e){return e!=null&&typeof e=="object"}var pc="[object Symbol]";function gc(e){return typeof e=="symbol"||dc(e)&&hc(e)==pc}var mc=/\s/;function yc(e){for(var n=e.length;n--&&mc.test(e.charAt(n)););return n}var vc=/^\s+/;function _c(e){return e&&e.slice(0,yc(e)+1).replace(vc,"")}function At(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Jn=NaN,xc=/^[-+]0x[0-9a-f]+$/i,bc=/^0b[01]+$/i,wc=/^0o[0-7]+$/i,kc=parseInt;function er(e){if(typeof e=="number")return e;if(gc(e))return Jn;if(At(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=At(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=_c(e);var r=bc.test(e);return r||wc.test(e)?kc(e.slice(2),r?2:8):xc.test(e)?Jn:+e}var Ut=function(){return pi.Date.now()},jc="Expected a function",Sc=Math.max,Ac=Math.min;function mi(e,n,r){var i,a,o,s,l,c,f=0,h=!1,u=!1,p=!0;if(typeof e!="function")throw new TypeError(jc);n=er(n)||0,At(r)&&(h=!!r.leading,u="maxWait"in r,o=u?Sc(er(r.maxWait)||0,n):o,p="trailing"in r?!!r.trailing:p);function g(k){var N=i,C=a;return i=a=void 0,f=k,s=e.apply(C,N),s}function y(k){return f=k,l=setTimeout(m,n),h?g(k):s}function v(k){var N=k-c,C=k-f,R=n-N;return u?Ac(R,o-C):R}function _(k){var N=k-c,C=k-f;return c===void 0||N>=n||N<0||u&&C>=o}function m(){var k=Ut();if(_(k))return j(k);l=setTimeout(m,v(k))}function j(k){return l=void 0,p&&i?g(k):(i=a=void 0,s)}function S(){l!==void 0&&clearTimeout(l),f=0,i=c=a=l=void 0}function x(){return l===void 0?s:j(Ut())}function w(){var k=Ut(),N=_(k);if(i=arguments,a=this,c=k,N){if(l===void 0)return y(c);if(u)return clearTimeout(l),l=setTimeout(m,n),g(c)}return l===void 0&&(l=setTimeout(m,n)),s}return w.cancel=S,w.flush=x,w}var Nc="Expected a function";function Cc(e,n,r){var i=!0,a=!0;if(typeof e!="function")throw new TypeError(Nc);return At(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),mi(e,n,{leading:i,maxWait:n,trailing:a})}var Re=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Re.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Re.Bounce.In(e*2)*.5:Re.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),Je=function(){return performance.now()},yi=(function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];(n=s._group)===null||n===void 0||n.remove(s),s._group=this,this._tweens[s.getId()]=s,this._tweensAddedDuringUpdate[s.getId()]=s}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=Je()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<i.length;a++){var o=this._tweens[i[a]],s=!r;o&&o.update(n,s)===!1&&!r&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},e})(),sn={Linear:function(e,n){var r=e.length-1,i=r*n,a=Math.floor(i),o=sn.Utils.Linear;return n<0?o(e[0],e[1],i):n>1?o(e[r],e[r-1],r-i):o(e[a],e[a+1>r?r:a+1],i-a)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},vi=(function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e})(),ln=new yi,tr=(function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Re.Linear.None,this._interpolationFunction=sn.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=vi.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=ln,ln.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=Je()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a={};for(var o in this._valuesEnd)a[o]=this._valuesEnd[o];this._valuesEnd=a}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,i,a,o){for(var s in i){var l=n[s],c=Array.isArray(l),f=c?"array":typeof l,h=!c&&Array.isArray(i[s]);if(!(f==="undefined"||f==="function")){if(h){var u=i[s];if(u.length===0)continue;for(var p=[l],g=0,y=u.length;g<y;g+=1){var v=this._handleRelativeValue(l,u[g]);if(isNaN(v)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(v)}h&&(i[s]=p)}if((f==="object"||c)&&l&&!h){r[s]=c?[]:{};var _=l;for(var m in _)r[s][m]=_[m];a[s]=c?[]:{};var u=i[s];if(!this._isDynamic){var j={};for(var m in u)j[m]=u[m];i[s]=u=j}this._setupProperties(_,r[s],u,a[s],o)}else(typeof r[s]>"u"||o)&&(r[s]=l),c||(r[s]*=1),h?a[s]=i[s].slice().reverse():a[s]=r[s]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=Je()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=Je()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=Re.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=sn.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var i=this,a;if(n===void 0&&(n=Je()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var s=n-this._startTime,l=this._duration+((a=this._repeatDelayTime)!==null&&a!==void 0?a:this._delayTime),c=this._duration+this._repeat*l,f=function(){if(i._duration===0||s>c)return 1;var v=Math.trunc(s/l),_=s-v*l,m=Math.min(_/i._duration,1);return m===0&&s===i._duration?1:m},h=f(),u=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,u),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||s>=this._duration)if(this._repeat>0){var p=Math.min(Math.trunc((s-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=p);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*p,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var g=0,y=this._chainedTweens.length;g<y;g++)this._chainedTweens[g].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,a){for(var o in i)if(r[o]!==void 0){var s=r[o]||0,l=i[o],c=Array.isArray(n[o]),f=Array.isArray(l),h=!c&&f;h?n[o]=this._interpolationFunction(l,a):typeof l=="object"&&l?this._updateProperties(n[o],s,l,a):(l=this._handleRelativeValue(s,l),typeof l=="number"&&(n[o]=s+(l-s)*a))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e})();vi.nextId;var ye=ln;ye.getAll.bind(ye);ye.removeAll.bind(ye);ye.add.bind(ye);ye.remove.bind(ye);ye.update.bind(ye);function nr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Tc(e){if(Array.isArray(e))return e}function Pc(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Mc(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Oc(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}function Ec(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rc(e,n){return Tc(e)||Oc(e,n)||zc(e,n)||Ec()}function zc(e,n){if(e){if(typeof e=="string")return nr(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(e,n):void 0}}var Ic=Mc(function e(n,r){var i=r.default,a=i===void 0?null:i,o=r.triggerUpdate,s=o===void 0?!0:o,l=r.onChange,c=l===void 0?function(f,h){}:l;Pc(this,e),this.name=n,this.defaultVal=a,this.triggerUpdate=s,this.onChange=c});function An(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,a=i===void 0?{}:i,o=e.methods,s=o===void 0?{}:o,l=e.aliases,c=l===void 0?{}:l,f=e.init,h=f===void 0?function(){}:f,u=e.update,p=u===void 0?function(){}:u,g=Object.keys(a).map(function(y){return new Ic(y,a[y])});return function y(){for(var v=arguments.length,_=new Array(v),m=0;m<v;m++)_[m]=arguments[m];var j=!!(this instanceof y&&this.constructor),S=j?_.shift():void 0,x=_[0],w=x===void 0?{}:x,k=Object.assign({},r instanceof Function?r(w):r,{initialised:!1}),N={};function C(E){return R(E,w),M(),C}var R=function(z,L){h.call(C,z,k,L),k.initialised=!0},M=mi(function(){k.initialised&&(p.call(C,k,N),N={})},1);return g.forEach(function(E){C[E.name]=z(E);function z(L){var A=L.name,O=L.triggerUpdate,T=O===void 0?!1:O,I=L.onChange,$=I===void 0?function(q,V){}:I,F=L.defaultVal,U=F===void 0?null:F;return function(q){var V=k[A];if(!arguments.length)return V;var K=q===void 0?U:q;return k[A]=K,$.call(C,K,k,V),!N.hasOwnProperty(A)&&(N[A]=V),T&&M(),C}}}),Object.keys(s).forEach(function(E){C[E]=function(){for(var z,L=arguments.length,A=new Array(L),O=0;O<L;O++)A[O]=arguments[O];return(z=s[E]).call.apply(z,[C,k].concat(A))}}),Object.entries(c).forEach(function(E){var z=Rc(E,2),L=z[0],A=z[1];return C[L]=C[A]}),C.resetProps=function(){return g.forEach(function(E){C[E.name](E.defaultVal)}),C},C.resetProps(),k._rerender=M,j&&S&&C(S),C}}var B=(function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}});function Nt(e){"@babel/helpers - typeof";return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nt(e)}var Dc=/^\s+/,$c=/\s+$/;function D(e,n){if(e=e||"",n=n||{},e instanceof D)return e;if(!(this instanceof D))return new D(e,n);var r=Lc(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}D.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,i,a,o,s,l;return r=n.r/255,i=n.g/255,a=n.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),a<=.03928?l=a/12.92:l=Math.pow((a+.055)/1.055,2.4),.2126*o+.7152*s+.0722*l},setAlpha:function(n){return this._a=_i(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=ir(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=ir(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),a=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+a+"%)":"hsva("+r+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var n=rr(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=rr(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),a=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+a+"%)":"hsla("+r+", "+i+"%, "+a+"%, "+this._roundA+")"},toHex:function(n){return ar(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return qc(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(X(this._r,255)*100)+"%",g:Math.round(X(this._g,255)*100)+"%",b:Math.round(X(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(X(this._r,255)*100)+"%, "+Math.round(X(this._g,255)*100)+"%, "+Math.round(X(this._b,255)*100)+"%)":"rgba("+Math.round(X(this._r,255)*100)+"%, "+Math.round(X(this._g,255)*100)+"%, "+Math.round(X(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:tu[ar(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+or(this._r,this._g,this._b,this._a),i=r,a=this._gradientType?"GradientType = 1, ":"";if(n){var o=D(n);i="#"+or(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+r+",endColorstr="+i+")"},toString:function(n){var r=!!n;n=n||this._format;var i=!1,a=this._a<1&&this._a>=0,o=!r&&a&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return o?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return D(this.toString())},_applyModification:function(n,r){var i=n.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Wc,arguments)},brighten:function(){return this._applyModification(Xc,arguments)},darken:function(){return this._applyModification(Yc,arguments)},desaturate:function(){return this._applyModification(Vc,arguments)},saturate:function(){return this._applyModification(Bc,arguments)},greyscale:function(){return this._applyModification(Gc,arguments)},spin:function(){return this._applyModification(Zc,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Jc,arguments)},complement:function(){return this._applyCombination(Kc,arguments)},monochromatic:function(){return this._applyCombination(eu,arguments)},splitcomplement:function(){return this._applyCombination(Qc,arguments)},triad:function(){return this._applyCombination(sr,[3])},tetrad:function(){return this._applyCombination(sr,[4])}};D.fromRatio=function(e,n){if(Nt(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=et(e[i]));e=r}return D(e,n)};function Lc(e){var n={r:0,g:0,b:0},r=1,i=null,a=null,o=null,s=!1,l=!1;return typeof e=="string"&&(e=au(e)),Nt(e)=="object"&&(we(e.r)&&we(e.g)&&we(e.b)?(n=Fc(e.r,e.g,e.b),s=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):we(e.h)&&we(e.s)&&we(e.v)?(i=et(e.s),a=et(e.v),n=Hc(e.h,i,a),s=!0,l="hsv"):we(e.h)&&we(e.s)&&we(e.l)&&(i=et(e.s),o=et(e.l),n=Uc(e.h,i,o),s=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=_i(r),{ok:s,format:e.format||l,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function Fc(e,n,r){return{r:X(e,255)*255,g:X(n,255)*255,b:X(r,255)*255}}function rr(e,n,r){e=X(e,255),n=X(n,255),r=X(r,255);var i=Math.max(e,n,r),a=Math.min(e,n,r),o,s,l=(i+a)/2;if(i==a)o=s=0;else{var c=i-a;switch(s=l>.5?c/(2-i-a):c/(i+a),i){case e:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-e)/c+2;break;case r:o=(e-n)/c+4;break}o/=6}return{h:o,s,l}}function Uc(e,n,r){var i,a,o;e=X(e,360),n=X(n,100),r=X(r,100);function s(f,h,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?f+(h-f)*6*u:u<1/2?h:u<2/3?f+(h-f)*(2/3-u)*6:f}if(n===0)i=a=o=r;else{var l=r<.5?r*(1+n):r+n-r*n,c=2*r-l;i=s(c,l,e+1/3),a=s(c,l,e),o=s(c,l,e-1/3)}return{r:i*255,g:a*255,b:o*255}}function ir(e,n,r){e=X(e,255),n=X(n,255),r=X(r,255);var i=Math.max(e,n,r),a=Math.min(e,n,r),o,s,l=i,c=i-a;if(s=i===0?0:c/i,i==a)o=0;else{switch(i){case e:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-e)/c+2;break;case r:o=(e-n)/c+4;break}o/=6}return{h:o,s,v:l}}function Hc(e,n,r){e=X(e,360)*6,n=X(n,100),r=X(r,100);var i=Math.floor(e),a=e-i,o=r*(1-n),s=r*(1-a*n),l=r*(1-(1-a)*n),c=i%6,f=[r,s,o,o,l,r][c],h=[l,r,r,s,o,o][c],u=[o,o,l,r,r,s][c];return{r:f*255,g:h*255,b:u*255}}function ar(e,n,r,i){var a=[he(Math.round(e).toString(16)),he(Math.round(n).toString(16)),he(Math.round(r).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function qc(e,n,r,i,a){var o=[he(Math.round(e).toString(16)),he(Math.round(n).toString(16)),he(Math.round(r).toString(16)),he(xi(i))];return a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function or(e,n,r,i){var a=[he(xi(i)),he(Math.round(e).toString(16)),he(Math.round(n).toString(16)),he(Math.round(r).toString(16))];return a.join("")}D.equals=function(e,n){return!e||!n?!1:D(e).toRgbString()==D(n).toRgbString()};D.random=function(){return D.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Vc(e,n){n=n===0?0:n||10;var r=D(e).toHsl();return r.s-=n/100,r.s=Rt(r.s),D(r)}function Bc(e,n){n=n===0?0:n||10;var r=D(e).toHsl();return r.s+=n/100,r.s=Rt(r.s),D(r)}function Gc(e){return D(e).desaturate(100)}function Wc(e,n){n=n===0?0:n||10;var r=D(e).toHsl();return r.l+=n/100,r.l=Rt(r.l),D(r)}function Xc(e,n){n=n===0?0:n||10;var r=D(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),D(r)}function Yc(e,n){n=n===0?0:n||10;var r=D(e).toHsl();return r.l-=n/100,r.l=Rt(r.l),D(r)}function Zc(e,n){var r=D(e).toHsl(),i=(r.h+n)%360;return r.h=i<0?360+i:i,D(r)}function Kc(e){var n=D(e).toHsl();return n.h=(n.h+180)%360,D(n)}function sr(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=D(e).toHsl(),i=[D(e)],a=360/n,o=1;o<n;o++)i.push(D({h:(r.h+o*a)%360,s:r.s,l:r.l}));return i}function Qc(e){var n=D(e).toHsl(),r=n.h;return[D(e),D({h:(r+72)%360,s:n.s,l:n.l}),D({h:(r+216)%360,s:n.s,l:n.l})]}function Jc(e,n,r){n=n||6,r=r||30;var i=D(e).toHsl(),a=360/r,o=[D(e)];for(i.h=(i.h-(a*n>>1)+720)%360;--n;)i.h=(i.h+a)%360,o.push(D(i));return o}function eu(e,n){n=n||6;for(var r=D(e).toHsv(),i=r.h,a=r.s,o=r.v,s=[],l=1/n;n--;)s.push(D({h:i,s:a,v:o})),o=(o+l)%1;return s}D.mix=function(e,n,r){r=r===0?0:r||50;var i=D(e).toRgb(),a=D(n).toRgb(),o=r/100,s={r:(a.r-i.r)*o+i.r,g:(a.g-i.g)*o+i.g,b:(a.b-i.b)*o+i.b,a:(a.a-i.a)*o+i.a};return D(s)};D.readability=function(e,n){var r=D(e),i=D(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};D.isReadable=function(e,n,r){var i=D.readability(e,n),a,o;switch(o=!1,a=ou(r),a.level+a.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};D.mostReadable=function(e,n,r){var i=null,a=0,o,s,l,c;r=r||{},s=r.includeFallbackColors,l=r.level,c=r.size;for(var f=0;f<n.length;f++)o=D.readability(e,n[f]),o>a&&(a=o,i=D(n[f]));return D.isReadable(e,i,{level:l,size:c})||!s?i:(r.includeFallbackColors=!1,D.mostReadable(e,["#fff","#000"],r))};var cn=D.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},tu=D.hexNames=nu(cn);function nu(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function _i(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function X(e,n){ru(e)&&(e="100%");var r=iu(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Rt(e){return Math.min(1,Math.max(0,e))}function re(e){return parseInt(e,16)}function ru(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function iu(e){return typeof e=="string"&&e.indexOf("%")!=-1}function he(e){return e.length==1?"0"+e:""+e}function et(e){return e<=1&&(e=e*100+"%"),e}function xi(e){return Math.round(parseFloat(e)*255).toString(16)}function lr(e){return re(e)/255}var fe=(function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function we(e){return!!fe.CSS_UNIT.exec(e)}function au(e){e=e.replace(Dc,"").replace($c,"").toLowerCase();var n=!1;if(cn[e])e=cn[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=fe.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=fe.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=fe.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=fe.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=fe.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=fe.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=fe.hex8.exec(e))?{r:re(r[1]),g:re(r[2]),b:re(r[3]),a:lr(r[4]),format:n?"name":"hex8"}:(r=fe.hex6.exec(e))?{r:re(r[1]),g:re(r[2]),b:re(r[3]),format:n?"name":"hex"}:(r=fe.hex4.exec(e))?{r:re(r[1]+""+r[1]),g:re(r[2]+""+r[2]),b:re(r[3]+""+r[3]),a:lr(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=fe.hex3.exec(e))?{r:re(r[1]+""+r[1]),g:re(r[2]+""+r[2]),b:re(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function ou(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function un(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function su(e){if(Array.isArray(e))return un(e)}function bi(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function lu(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cu(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ae(e,n){return e.get(bi(e,n))}function cr(e,n,r){lu(e,n),n.set(e,r)}function ur(e,n,r){return e.set(bi(e,n),r),r}function uu(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mu(i.key),i)}}function fu(e,n,r){return n&&uu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function du(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pu(e){return su(e)||hu(e)||yu(e)||du()}function gu(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mu(e){var n=gu(e,"string");return typeof n=="symbol"?n:n+""}function yu(e,n){if(e){if(typeof e=="string")return un(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?un(e,n):void 0}}var vu=123,_u=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},wi=function(n,r,i){return(n<<16)+(r<<8)+i},xu=function(n){var r=D(n).toRgb(),i=r.r,a=r.g,o=r.b;return wi(i,a,o)},fr=function(n,r){return n*vu%Math.pow(2,r)},Oe=new WeakMap,ke=new WeakMap,bu=(function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;cu(this,e),cr(this,Oe,void 0),cr(this,ke,void 0),ur(ke,this,n),this.reset()}return fu(e,[{key:"reset",value:function(){ur(Oe,this,["__reserved for background__"])}},{key:"register",value:function(r){if(ae(Oe,this).length>=Math.pow(2,24-ae(ke,this)))return null;var i=ae(Oe,this).length,a=fr(i,ae(ke,this)),o=_u(i+(a<<24-ae(ke,this)));return ae(Oe,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?xu(r):wi.apply(void 0,pu(r));if(!i)return null;var a=i&Math.pow(2,24-ae(ke,this))-1,o=i>>24-ae(ke,this)&Math.pow(2,ae(ke,this))-1;return fr(a,ae(ke,this))!==o||a>=ae(Oe,this).length?null:ae(Oe,this)[a]}}])})(),ut,Y,ki,ji,Ee,hr,Si,Ai,Ni,Nn,fn,hn,ot={},Ci=[],wu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,zt=Array.isArray;function me(e,n){for(var r in n)e[r]=n[r];return e}function Cn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ku(e,n,r){var i,a,o,s={};for(o in n)o=="key"?i=n[o]:o=="ref"?a=n[o]:s[o]=n[o];if(arguments.length>2&&(s.children=arguments.length>3?ut.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return tt(e,s,i,a,null)}function tt(e,n,r,i,a){var o={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++ki,__i:-1,__u:0};return a==null&&Y.vnode!=null&&Y.vnode(o),o}function It(e){return e.children}function _t(e,n){this.props=e,this.context=n}function He(e,n){if(n==null)return e.__?He(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?He(e):null}function Ti(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Ti(e)}}function dr(e){(!e.__d&&(e.__d=!0)&&Ee.push(e)&&!Ct.__r++||hr!=Y.debounceRendering)&&((hr=Y.debounceRendering)||Si)(Ct)}function Ct(){for(var e,n,r,i,a,o,s,l=1;Ee.length;)Ee.length>l&&Ee.sort(Ai),e=Ee.shift(),l=Ee.length,e.__d&&(r=void 0,i=void 0,a=(i=(n=e).__v).__e,o=[],s=[],n.__P&&((r=me({},i)).__v=i.__v+1,Y.vnode&&Y.vnode(r),Tn(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[a]:null,o,a??He(i),!!(32&i.__u),s),r.__v=i.__v,r.__.__k[r.__i]=r,Oi(o,r,s),i.__e=i.__=null,r.__e!=a&&Ti(r)));Ct.__r=0}function Pi(e,n,r,i,a,o,s,l,c,f,h){var u,p,g,y,v,_,m,j=i&&i.__k||Ci,S=n.length;for(c=ju(r,n,j,c,S),u=0;u<S;u++)(g=r.__k[u])!=null&&(p=g.__i==-1?ot:j[g.__i]||ot,g.__i=u,_=Tn(e,g,p,a,o,s,l,c,f,h),y=g.__e,g.ref&&p.ref!=g.ref&&(p.ref&&Pn(p.ref,null,g),h.push(g.ref,g.__c||y,g)),v==null&&y!=null&&(v=y),(m=!!(4&g.__u))||p.__k===g.__k?c=Mi(g,c,e,m):typeof g.type=="function"&&_!==void 0?c=_:y&&(c=y.nextSibling),g.__u&=-7);return r.__e=v,c}function ju(e,n,r,i,a){var o,s,l,c,f,h=r.length,u=h,p=0;for(e.__k=new Array(a),o=0;o<a;o++)(s=n[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=o+p,(s=e.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?tt(null,s,null,null,null):zt(s)?tt(It,{children:s},null,null,null):s.constructor==null&&s.__b>0?tt(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,l=null,(f=s.__i=Su(s,r,c,u))!=-1&&(u--,(l=r[f])&&(l.__u|=2)),l==null||l.__v==null?(f==-1&&(a>h?p--:a<h&&p++),typeof s.type!="function"&&(s.__u|=4)):f!=c&&(f==c-1?p--:f==c+1?p++:(f>c?p--:p++,s.__u|=4))):e.__k[o]=null;if(u)for(o=0;o<h;o++)(l=r[o])!=null&&(2&l.__u)==0&&(l.__e==i&&(i=He(l)),Ri(l,l));return i}function Mi(e,n,r,i){var a,o;if(typeof e.type=="function"){for(a=e.__k,o=0;a&&o<a.length;o++)a[o]&&(a[o].__=e,n=Mi(a[o],n,r,i));return n}e.__e!=n&&(i&&(n&&e.type&&!n.parentNode&&(n=He(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function Su(e,n,r,i){var a,o,s,l=e.key,c=e.type,f=n[r],h=f!=null&&(2&f.__u)==0;if(f===null&&e.key==null||h&&l==f.key&&c==f.type)return r;if(i>(h?1:0)){for(a=r-1,o=r+1;a>=0||o<n.length;)if((f=n[s=a>=0?a--:o++])!=null&&(2&f.__u)==0&&l==f.key&&c==f.type)return s}return-1}function pr(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||wu.test(n)?r:r+"px"}function dt(e,n,r,i,a){var o,s;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(n in i)r&&n in r||pr(e.style,n,"");if(r)for(n in r)i&&r[n]==i[n]||pr(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")o=n!=(n=n.replace(Ni,"$1")),s=n.toLowerCase(),n=s in e||n=="onFocusOut"||n=="onFocusIn"?s.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=r,r?i?r.u=i.u:(r.u=Nn,e.addEventListener(n,o?hn:fn,o)):e.removeEventListener(n,o?hn:fn,o);else{if(a=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function gr(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=Nn++;else if(n.t<r.u)return;return r(Y.event?Y.event(n):n)}}}function Tn(e,n,r,i,a,o,s,l,c,f){var h,u,p,g,y,v,_,m,j,S,x,w,k,N,C,R,M,E=n.type;if(n.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),o=[l=n.__e=r.__e]),(h=Y.__b)&&h(n);e:if(typeof E=="function")try{if(m=n.props,j="prototype"in E&&E.prototype.render,S=(h=E.contextType)&&i[h.__c],x=h?S?S.props.value:h.__:i,r.__c?_=(u=n.__c=r.__c).__=u.__E:(j?n.__c=u=new E(m,x):(n.__c=u=new _t(m,x),u.constructor=E,u.render=Nu),S&&S.sub(u),u.props=m,u.state||(u.state={}),u.context=x,u.__n=i,p=u.__d=!0,u.__h=[],u._sb=[]),j&&u.__s==null&&(u.__s=u.state),j&&E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=me({},u.__s)),me(u.__s,E.getDerivedStateFromProps(m,u.__s))),g=u.props,y=u.state,u.__v=n,p)j&&E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),j&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(j&&E.getDerivedStateFromProps==null&&m!==g&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(m,x),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(m,u.__s,x)===!1||n.__v==r.__v){for(n.__v!=r.__v&&(u.props=m,u.state=u.__s,u.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(z){z&&(z.__=n)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(m,u.__s,x),j&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(g,y,v)})}if(u.context=x,u.props=m,u.__P=e,u.__e=!1,k=Y.__r,N=0,j){for(u.state=u.__s,u.__d=!1,k&&k(n),h=u.render(u.props,u.state,u.context),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[]}else do u.__d=!1,k&&k(n),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++N<25);u.state=u.__s,u.getChildContext!=null&&(i=me(me({},i),u.getChildContext())),j&&!p&&u.getSnapshotBeforeUpdate!=null&&(v=u.getSnapshotBeforeUpdate(g,y)),R=h,h!=null&&h.type===It&&h.key==null&&(R=Ei(h.props.children)),l=Pi(e,zt(R)?R:[R],n,r,i,a,o,s,l,c,f),u.base=n.__e,n.__u&=-161,u.__h.length&&s.push(u),_&&(u.__E=u.__=null)}catch(z){if(n.__v=null,c||o!=null)if(z.then){for(n.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,n.__e=l}else{for(M=o.length;M--;)Cn(o[M]);dn(n)}else n.__e=r.__e,n.__k=r.__k,z.then||dn(n);Y.__e(z,n,r)}else o==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):l=n.__e=Au(r.__e,n,r,i,a,o,s,c,f);return(h=Y.diffed)&&h(n),128&n.__u?void 0:l}function dn(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(dn)}function Oi(e,n,r){for(var i=0;i<r.length;i++)Pn(r[i],r[++i],r[++i]);Y.__c&&Y.__c(n,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(o){o.call(a)})}catch(o){Y.__e(o,a.__v)}})}function Ei(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:zt(e)?e.map(Ei):me({},e)}function Au(e,n,r,i,a,o,s,l,c){var f,h,u,p,g,y,v,_=r.props,m=n.props,j=n.type;if(j=="svg"?a="http://www.w3.org/2000/svg":j=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),o!=null){for(f=0;f<o.length;f++)if((g=o[f])&&"setAttribute"in g==!!j&&(j?g.localName==j:g.nodeType==3)){e=g,o[f]=null;break}}if(e==null){if(j==null)return document.createTextNode(m);e=document.createElementNS(a,j,m.is&&m),l&&(Y.__m&&Y.__m(n,o),l=!1),o=null}if(j==null)_===m||l&&e.data==m||(e.data=m);else{if(o=o&&ut.call(e.childNodes),_=r.props||ot,!l&&o!=null)for(_={},f=0;f<e.attributes.length;f++)_[(g=e.attributes[f]).name]=g.value;for(f in _)if(g=_[f],f!="children"){if(f=="dangerouslySetInnerHTML")u=g;else if(!(f in m)){if(f=="value"&&"defaultValue"in m||f=="checked"&&"defaultChecked"in m)continue;dt(e,f,null,g,a)}}for(f in m)g=m[f],f=="children"?p=g:f=="dangerouslySetInnerHTML"?h=g:f=="value"?y=g:f=="checked"?v=g:l&&typeof g!="function"||_[f]===g||dt(e,f,g,_[f],a);if(h)l||u&&(h.__html==u.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),n.__k=[];else if(u&&(e.innerHTML=""),Pi(n.type=="template"?e.content:e,zt(p)?p:[p],n,r,i,j=="foreignObject"?"http://www.w3.org/1999/xhtml":a,o,s,o?o[0]:r.__k&&He(r,0),l,c),o!=null)for(f=o.length;f--;)Cn(o[f]);l||(f="value",j=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[f]||j=="progress"&&!y||j=="option"&&y!=_[f])&&dt(e,f,y,_[f],a),f="checked",v!=null&&v!=e[f]&&dt(e,f,v,_[f],a))}return e}function Pn(e,n,r){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&n==null||(e.__u=e(n))}else e.current=n}catch(a){Y.__e(a,r)}}function Ri(e,n,r){var i,a;if(Y.unmount&&Y.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Pn(i,null,n)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){Y.__e(o,n)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&Ri(i[a],n,r||typeof e.type!="function");r||Cn(e.__e),e.__c=e.__=e.__e=void 0}function Nu(e,n,r){return this.constructor(e,r)}function Cu(e,n,r){var i,a,o,s;n==document&&(n=document.documentElement),Y.__&&Y.__(e,n),a=(i=!1)?null:n.__k,o=[],s=[],Tn(n,e=n.__k=ku(It,null,[e]),a||ot,ot,n.namespaceURI,a?null:n.firstChild?ut.call(n.childNodes):null,o,a?a.__e:n.firstChild,i,s),Oi(o,e,s)}function zi(e,n,r){var i,a,o,s,l=me({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),n)o=="key"?i=n[o]:o=="ref"?a=n[o]:l[o]=n[o]===void 0&&s!=null?s[o]:n[o];return arguments.length>2&&(l.children=arguments.length>3?ut.call(arguments,2):r),tt(e.type,l,i||e.key,a||e.ref,null)}ut=Ci.slice,Y={__e:function(e,n,r,i){for(var a,o,s;n=n.__;)if((a=n.__c)&&!a.__)try{if((o=a.constructor)&&o.getDerivedStateFromError!=null&&(a.setState(o.getDerivedStateFromError(e)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,i||{}),s=a.__d),s)return a.__E=a}catch(l){e=l}throw e}},ki=0,ji=function(e){return e!=null&&e.constructor==null},_t.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=me({},this.state),typeof e=="function"&&(e=e(me({},r),this.props)),e&&me(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),dr(this))},_t.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),dr(this))},_t.prototype.render=It,Ee=[],Si=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ai=function(e,n){return e.__v.__b-n.__v.__b},Ct.__r=0,Ni=/(PointerCapture)$|Capture$/i,Nn=0,fn=gr(!1),hn=gr(!0);function mr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Tu(e){if(Array.isArray(e))return e}function Pu(e,n,r){return(n=Iu(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Mu(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}function Ou(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Eu(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yr(Object(r),!0).forEach(function(i){Pu(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ru(e,n){return Tu(e)||Mu(e,n)||Du(e,n)||Ou()}function zu(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Iu(e){var n=zu(e,"string");return typeof n=="symbol"?n:n+""}function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tt(e)}function Du(e,n){if(e){if(typeof e=="string")return mr(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mr(e,n):void 0}}var pn=function(n){if(Tt(n)!=="object")return n;var r=zi(n);if(r.props){var i;r.props=Eu({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(pn):pn(r.props.children))}return r},$u=function(n){return ji(zi(n))},Lu=function(n,r){delete r.__k,Cu(pn(n),r)};function Fu(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var Uu=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Fu(Uu);var Hu=An({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.style,o=a===void 0?{}:a,s=!!n&&Tt(n)==="object"&&!!n.node&&typeof n.node=="function",l=se(s?n.node():n);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(f){var h=Ru(f,2),u=h[0],p=h[1];return r.tooltipEl.style(u,p)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(f){r.mouseInside=!0;var h=ge(f),u=l.node(),p=u.offsetWidth,g=u.offsetHeight,y=[r.offsetX===null||r.offsetX===void 0?"-".concat(h[0]/p*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?g>130&&g-h[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(y.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):$u(n.content)?(n.tooltipEl.text(""),Lu(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function qu(e,n,r){var i,a=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function o(){var s,l=i.length,c,f=0,h=0,u=0;for(s=0;s<l;++s)c=i[s],f+=c.x||0,h+=c.y||0,u+=c.z||0;for(f=(f/l-e)*a,h=(h/l-n)*a,u=(u/l-r)*a,s=0;s<l;++s)c=i[s],f&&(c.x-=f),h&&(c.y-=h),u&&(c.z-=u)}return o.initialize=function(s){i=s},o.x=function(s){return arguments.length?(e=+s,o):e},o.y=function(s){return arguments.length?(n=+s,o):n},o.z=function(s){return arguments.length?(r=+s,o):r},o.strength=function(s){return arguments.length?(a=+s,o):a},o}function Vu(e){const n=+this._x.call(null,e);return Ii(this.cover(n),n,e)}function Ii(e,n,r){if(isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,l=e._x1,c,f,h,u,p;if(!a)return e._root=o,e;for(;a.length;)if((h=n>=(c=(s+l)/2))?s=c:l=c,i=a,!(a=a[u=+h]))return i[u]=o,e;if(f=+e._x.call(null,a.data),n===f)return o.next=a,i?i[u]=o:e._root=o,e;do i=i?i[u]=new Array(2):e._root=new Array(2),(h=n>=(c=(s+l)/2))?s=c:l=c;while((u=+h)==(p=+(f>=c)));return i[p]=a,i[u]=o,e}function Bu(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let i=1/0,a=-1/0;for(let o=0,s;o<n;++o)isNaN(s=+this._x.call(null,e[o]))||(r[o]=s,s<i&&(i=s),s>a&&(a=s));if(i>a)return this;this.cover(i).cover(a);for(let o=0;o<n;++o)Ii(this,r[o],e[o]);return this}function Gu(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,a=this._root,o,s;n>e||e>=r;)switch(s=+(e<n),o=new Array(2),o[s]=a,a=o,i*=2,s){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._x1=r,this}function Wu(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Xu(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ce(e,n,r){this.node=e,this.x0=n,this.x1=r}function Yu(e,n){var r,i=this._x0,a,o,s=this._x1,l=[],c=this._root,f,h;for(c&&l.push(new Ce(c,i,s)),n==null?n=1/0:(i=e-n,s=e+n);f=l.pop();)if(!(!(c=f.node)||(a=f.x0)>s||(o=f.x1)<i))if(c.length){var u=(a+o)/2;l.push(new Ce(c[1],u,o),new Ce(c[0],a,u)),(h=+(e>=u))&&(f=l[l.length-1],l[l.length-1]=l[l.length-1-h],l[l.length-1-h]=f)}else{var p=Math.abs(e-+this._x.call(null,c.data));p<n&&(n=p,i=e-p,s=e+p,r=c.data)}return r}function Zu(e){if(isNaN(c=+this._x.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,l=this._x1,c,f,h,u,p;if(!r)return this;if(r.length)for(;;){if((h=c>=(f=(s+l)/2))?s=f:l=f,n=r,!(r=r[u=+h]))return this;if(!r.length)break;n[u+1&1]&&(i=n,p=u)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[u]=o:delete n[u],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[p]=r:this._root=r),this):(this._root=o,this)}function Ku(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Qu(){return this._root}function Ju(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function ef(e){var n=[],r,i=this._root,a,o,s;for(i&&n.push(new Ce(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.x1)&&i.length){var l=(o+s)/2;(a=i[1])&&n.push(new Ce(a,l,s)),(a=i[0])&&n.push(new Ce(a,o,l))}return this}function tf(e){var n=[],r=[],i;for(this._root&&n.push(new Ce(this._root,this._x0,this._x1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,l=i.x1,c=(s+l)/2;(o=a[0])&&n.push(new Ce(o,s,c)),(o=a[1])&&n.push(new Ce(o,c,l))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function nf(e){return e[0]}function rf(e){return arguments.length?(this._x=e,this):this._x}function Di(e,n){var r=new Mn(n??nf,NaN,NaN);return e==null?r:r.addAll(e)}function Mn(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function vr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var ne=Di.prototype=Mn.prototype;ne.copy=function(){var e=new Mn(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=vr(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var a=0;a<2;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(2)}):n.target[a]=vr(i));return e};ne.add=Vu;ne.addAll=Bu;ne.cover=Gu;ne.data=Wu;ne.extent=Xu;ne.find=Yu;ne.remove=Zu;ne.removeAll=Ku;ne.root=Qu;ne.size=Ju;ne.visit=ef;ne.visitAfter=tf;ne.x=rf;function af(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return $i(this.cover(n,r),n,r,e)}function $i(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var a,o=e._root,s={data:i},l=e._x0,c=e._y0,f=e._x1,h=e._y1,u,p,g,y,v,_,m,j;if(!o)return e._root=s,e;for(;o.length;)if((v=n>=(u=(l+f)/2))?l=u:f=u,(_=r>=(p=(c+h)/2))?c=p:h=p,a=o,!(o=o[m=_<<1|v]))return a[m]=s,e;if(g=+e._x.call(null,o.data),y=+e._y.call(null,o.data),n===g&&r===y)return s.next=o,a?a[m]=s:e._root=s,e;do a=a?a[m]=new Array(4):e._root=new Array(4),(v=n>=(u=(l+f)/2))?l=u:f=u,(_=r>=(p=(c+h)/2))?c=p:h=p;while((m=_<<1|v)===(j=(y>=p)<<1|g>=u));return a[j]=o,a[m]=s,e}function of(e){var n,r,i=e.length,a,o,s=new Array(i),l=new Array(i),c=1/0,f=1/0,h=-1/0,u=-1/0;for(r=0;r<i;++r)isNaN(a=+this._x.call(null,n=e[r]))||isNaN(o=+this._y.call(null,n))||(s[r]=a,l[r]=o,a<c&&(c=a),a>h&&(h=a),o<f&&(f=o),o>u&&(u=o));if(c>h||f>u)return this;for(this.cover(c,f).cover(h,u),r=0;r<i;++r)$i(this,s[r],l[r],e[r]);return this}function sf(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._x1,o=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,o=(i=Math.floor(n))+1;else{for(var s=a-r||1,l=this._root,c,f;r>e||e>=a||i>n||n>=o;)switch(f=(n<i)<<1|e<r,c=new Array(4),c[f]=l,l=c,s*=2,f){case 0:a=r+s,o=i+s;break;case 1:r=a-s,o=i+s;break;case 2:a=r+s,i=o-s;break;case 3:r=a-s,i=o-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=a,this._y1=o,this}function lf(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function cf(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ee(e,n,r,i,a){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=a}function uf(e,n,r){var i,a=this._x0,o=this._y0,s,l,c,f,h=this._x1,u=this._y1,p=[],g=this._root,y,v;for(g&&p.push(new ee(g,a,o,h,u)),r==null?r=1/0:(a=e-r,o=n-r,h=e+r,u=n+r,r*=r);y=p.pop();)if(!(!(g=y.node)||(s=y.x0)>h||(l=y.y0)>u||(c=y.x1)<a||(f=y.y1)<o))if(g.length){var _=(s+c)/2,m=(l+f)/2;p.push(new ee(g[3],_,m,c,f),new ee(g[2],s,m,_,f),new ee(g[1],_,l,c,m),new ee(g[0],s,l,_,m)),(v=(n>=m)<<1|e>=_)&&(y=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=y)}else{var j=e-+this._x.call(null,g.data),S=n-+this._y.call(null,g.data),x=j*j+S*S;if(x<r){var w=Math.sqrt(r=x);a=e-w,o=n-w,h=e+w,u=n+w,i=g.data}}return i}function ff(e){if(isNaN(h=+this._x.call(null,e))||isNaN(u=+this._y.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,l=this._y0,c=this._x1,f=this._y1,h,u,p,g,y,v,_,m;if(!r)return this;if(r.length)for(;;){if((y=h>=(p=(s+c)/2))?s=p:c=p,(v=u>=(g=(l+f)/2))?l=g:f=g,n=r,!(r=r[_=v<<1|y]))return this;if(!r.length)break;(n[_+1&3]||n[_+2&3]||n[_+3&3])&&(i=n,m=_)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[_]=o:delete n[_],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[m]=r:this._root=r),this):(this._root=o,this)}function hf(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function df(){return this._root}function pf(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function gf(e){var n=[],r,i=this._root,a,o,s,l,c;for(i&&n.push(new ee(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.y0,l=r.x1,c=r.y1)&&i.length){var f=(o+l)/2,h=(s+c)/2;(a=i[3])&&n.push(new ee(a,f,h,l,c)),(a=i[2])&&n.push(new ee(a,o,h,f,c)),(a=i[1])&&n.push(new ee(a,f,s,l,h)),(a=i[0])&&n.push(new ee(a,o,s,f,h))}return this}function mf(e){var n=[],r=[],i;for(this._root&&n.push(new ee(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,l=i.y0,c=i.x1,f=i.y1,h=(s+c)/2,u=(l+f)/2;(o=a[0])&&n.push(new ee(o,s,l,h,u)),(o=a[1])&&n.push(new ee(o,h,l,c,u)),(o=a[2])&&n.push(new ee(o,s,u,h,f)),(o=a[3])&&n.push(new ee(o,h,u,c,f))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function yf(e){return e[0]}function vf(e){return arguments.length?(this._x=e,this):this._x}function _f(e){return e[1]}function xf(e){return arguments.length?(this._y=e,this):this._y}function Li(e,n,r){var i=new On(n??yf,r??_f,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function On(e,n,r,i,a,o){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=a,this._y1=o,this._root=void 0}function _r(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var te=Li.prototype=On.prototype;te.copy=function(){var e=new On(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=_r(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var a=0;a<4;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(4)}):n.target[a]=_r(i));return e};te.add=af;te.addAll=of;te.cover=sf;te.data=lf;te.extent=cf;te.find=uf;te.remove=ff;te.removeAll=hf;te.root=df;te.size=pf;te.visit=gf;te.visitAfter=mf;te.x=vf;te.y=xf;function bf(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return Fi(this.cover(n,r,i),n,r,i,e)}function Fi(e,n,r,i,a){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var o,s=e._root,l={data:a},c=e._x0,f=e._y0,h=e._z0,u=e._x1,p=e._y1,g=e._z1,y,v,_,m,j,S,x,w,k,N,C;if(!s)return e._root=l,e;for(;s.length;)if((x=n>=(y=(c+u)/2))?c=y:u=y,(w=r>=(v=(f+p)/2))?f=v:p=v,(k=i>=(_=(h+g)/2))?h=_:g=_,o=s,!(s=s[N=k<<2|w<<1|x]))return o[N]=l,e;if(m=+e._x.call(null,s.data),j=+e._y.call(null,s.data),S=+e._z.call(null,s.data),n===m&&r===j&&i===S)return l.next=s,o?o[N]=l:e._root=l,e;do o=o?o[N]=new Array(8):e._root=new Array(8),(x=n>=(y=(c+u)/2))?c=y:u=y,(w=r>=(v=(f+p)/2))?f=v:p=v,(k=i>=(_=(h+g)/2))?h=_:g=_;while((N=k<<2|w<<1|x)===(C=(S>=_)<<2|(j>=v)<<1|m>=y));return o[C]=s,o[N]=l,e}function wf(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),i=new Float64Array(n),a=new Float64Array(n);let o=1/0,s=1/0,l=1/0,c=-1/0,f=-1/0,h=-1/0;for(let u=0,p,g,y,v;u<n;++u)isNaN(g=+this._x.call(null,p=e[u]))||isNaN(y=+this._y.call(null,p))||isNaN(v=+this._z.call(null,p))||(r[u]=g,i[u]=y,a[u]=v,g<o&&(o=g),g>c&&(c=g),y<s&&(s=y),y>f&&(f=y),v<l&&(l=v),v>h&&(h=v));if(o>c||s>f||l>h)return this;this.cover(o,s,l).cover(c,f,h);for(let u=0;u<n;++u)Fi(this,r[u],i[u],a[u],e[u]);return this}function kf(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,a=this._y0,o=this._z0,s=this._x1,l=this._y1,c=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,l=(a=Math.floor(n))+1,c=(o=Math.floor(r))+1;else{for(var f=s-i||1,h=this._root,u,p;i>e||e>=s||a>n||n>=l||o>r||r>=c;)switch(p=(r<o)<<2|(n<a)<<1|e<i,u=new Array(8),u[p]=h,h=u,f*=2,p){case 0:s=i+f,l=a+f,c=o+f;break;case 1:i=s-f,l=a+f,c=o+f;break;case 2:s=i+f,a=l-f,c=o+f;break;case 3:i=s-f,a=l-f,c=o+f;break;case 4:s=i+f,l=a+f,o=c-f;break;case 5:i=s-f,l=a+f,o=c-f;break;case 6:s=i+f,a=l-f,o=c-f;break;case 7:i=s-f,a=l-f,o=c-f;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=l,this._z1=c,this}function jf(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Sf(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function G(e,n,r,i,a,o,s){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=a,this.y1=o,this.z1=s}function Af(e,n,r,i){var a,o=this._x0,s=this._y0,l=this._z0,c,f,h,u,p,g,y=this._x1,v=this._y1,_=this._z1,m=[],j=this._root,S,x;for(j&&m.push(new G(j,o,s,l,y,v,_)),i==null?i=1/0:(o=e-i,s=n-i,l=r-i,y=e+i,v=n+i,_=r+i,i*=i);S=m.pop();)if(!(!(j=S.node)||(c=S.x0)>y||(f=S.y0)>v||(h=S.z0)>_||(u=S.x1)<o||(p=S.y1)<s||(g=S.z1)<l))if(j.length){var w=(c+u)/2,k=(f+p)/2,N=(h+g)/2;m.push(new G(j[7],w,k,N,u,p,g),new G(j[6],c,k,N,w,p,g),new G(j[5],w,f,N,u,k,g),new G(j[4],c,f,N,w,k,g),new G(j[3],w,k,h,u,p,N),new G(j[2],c,k,h,w,p,N),new G(j[1],w,f,h,u,k,N),new G(j[0],c,f,h,w,k,N)),(x=(r>=N)<<2|(n>=k)<<1|e>=w)&&(S=m[m.length-1],m[m.length-1]=m[m.length-1-x],m[m.length-1-x]=S)}else{var C=e-+this._x.call(null,j.data),R=n-+this._y.call(null,j.data),M=r-+this._z.call(null,j.data),E=C*C+R*R+M*M;if(E<i){var z=Math.sqrt(i=E);o=e-z,s=n-z,l=r-z,y=e+z,v=n+z,_=r+z,a=j.data}}return a}const Nf=(e,n,r,i,a,o)=>Math.sqrt((e-i)**2+(n-a)**2+(r-o)**2);function Cf(e,n,r,i){const a=[],o=e-i,s=n-i,l=r-i,c=e+i,f=n+i,h=r+i;return this.visit((u,p,g,y,v,_,m)=>{if(!u.length)do{const j=u.data;Nf(e,n,r,this._x(j),this._y(j),this._z(j))<=i&&a.push(j)}while(u=u.next);return p>c||g>f||y>h||v<o||_<s||m<l}),a}function Tf(e){if(isNaN(p=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e))||isNaN(y=+this._z.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,l=this._y0,c=this._z0,f=this._x1,h=this._y1,u=this._z1,p,g,y,v,_,m,j,S,x,w,k;if(!r)return this;if(r.length)for(;;){if((j=p>=(v=(s+f)/2))?s=v:f=v,(S=g>=(_=(l+h)/2))?l=_:h=_,(x=y>=(m=(c+u)/2))?c=m:u=m,n=r,!(r=r[w=x<<2|S<<1|j]))return this;if(!r.length)break;(n[w+1&7]||n[w+2&7]||n[w+3&7]||n[w+4&7]||n[w+5&7]||n[w+6&7]||n[w+7&7])&&(i=n,k=w)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[w]=o:delete n[w],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[k]=r:this._root=r),this):(this._root=o,this)}function Pf(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Mf(){return this._root}function Of(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Ef(e){var n=[],r,i=this._root,a,o,s,l,c,f,h;for(i&&n.push(new G(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.y0,l=r.z0,c=r.x1,f=r.y1,h=r.z1)&&i.length){var u=(o+c)/2,p=(s+f)/2,g=(l+h)/2;(a=i[7])&&n.push(new G(a,u,p,g,c,f,h)),(a=i[6])&&n.push(new G(a,o,p,g,u,f,h)),(a=i[5])&&n.push(new G(a,u,s,g,c,p,h)),(a=i[4])&&n.push(new G(a,o,s,g,u,p,h)),(a=i[3])&&n.push(new G(a,u,p,l,c,f,g)),(a=i[2])&&n.push(new G(a,o,p,l,u,f,g)),(a=i[1])&&n.push(new G(a,u,s,l,c,p,g)),(a=i[0])&&n.push(new G(a,o,s,l,u,p,g))}return this}function Rf(e){var n=[],r=[],i;for(this._root&&n.push(new G(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,l=i.y0,c=i.z0,f=i.x1,h=i.y1,u=i.z1,p=(s+f)/2,g=(l+h)/2,y=(c+u)/2;(o=a[0])&&n.push(new G(o,s,l,c,p,g,y)),(o=a[1])&&n.push(new G(o,p,l,c,f,g,y)),(o=a[2])&&n.push(new G(o,s,g,c,p,h,y)),(o=a[3])&&n.push(new G(o,p,g,c,f,h,y)),(o=a[4])&&n.push(new G(o,s,l,y,p,g,u)),(o=a[5])&&n.push(new G(o,p,l,y,f,g,u)),(o=a[6])&&n.push(new G(o,s,g,y,p,h,u)),(o=a[7])&&n.push(new G(o,p,g,y,f,h,u))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function zf(e){return e[0]}function If(e){return arguments.length?(this._x=e,this):this._x}function Df(e){return e[1]}function $f(e){return arguments.length?(this._y=e,this):this._y}function Lf(e){return e[2]}function Ff(e){return arguments.length?(this._z=e,this):this._z}function Ui(e,n,r,i){var a=new En(n??zf,r??Df,i??Lf,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function En(e,n,r,i,a,o,s,l,c){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=l,this._z1=c,this._root=void 0}function xr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Q=Ui.prototype=En.prototype;Q.copy=function(){var e=new En(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=xr(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var a=0;a<8;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(8)}):n.target[a]=xr(i));return e};Q.add=bf;Q.addAll=wf;Q.cover=kf;Q.data=jf;Q.extent=Sf;Q.find=Af;Q.findAllWithinRadius=Cf;Q.remove=Tf;Q.removeAll=Pf;Q.root=Mf;Q.size=Of;Q.visit=Ef;Q.visitAfter=Rf;Q.x=If;Q.y=$f;Q.z=Ff;function Ne(e){return function(){return e}}function Se(e){return(e()-.5)*1e-6}function Uf(e){return e.index}function br(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function Hf(e){var n=Uf,r=p,i,a=Ne(30),o,s,l,c,f,h,u=1;e==null&&(e=[]);function p(m){return 1/Math.min(c[m.source.index],c[m.target.index])}function g(m){for(var j=0,S=e.length;j<u;++j)for(var x=0,w,k,N,C=0,R=0,M=0,E,z;x<S;++x)w=e[x],k=w.source,N=w.target,C=N.x+N.vx-k.x-k.vx||Se(h),l>1&&(R=N.y+N.vy-k.y-k.vy||Se(h)),l>2&&(M=N.z+N.vz-k.z-k.vz||Se(h)),E=Math.sqrt(C*C+R*R+M*M),E=(E-o[x])/E*m*i[x],C*=E,R*=E,M*=E,N.vx-=C*(z=f[x]),l>1&&(N.vy-=R*z),l>2&&(N.vz-=M*z),k.vx+=C*(z=1-z),l>1&&(k.vy+=R*z),l>2&&(k.vz+=M*z)}function y(){if(s){var m,j=s.length,S=e.length,x=new Map(s.map((k,N)=>[n(k,N,s),k])),w;for(m=0,c=new Array(j);m<S;++m)w=e[m],w.index=m,typeof w.source!="object"&&(w.source=br(x,w.source)),typeof w.target!="object"&&(w.target=br(x,w.target)),c[w.source.index]=(c[w.source.index]||0)+1,c[w.target.index]=(c[w.target.index]||0)+1;for(m=0,f=new Array(S);m<S;++m)w=e[m],f[m]=c[w.source.index]/(c[w.source.index]+c[w.target.index]);i=new Array(S),v(),o=new Array(S),_()}}function v(){if(s)for(var m=0,j=e.length;m<j;++m)i[m]=+r(e[m],m,e)}function _(){if(s)for(var m=0,j=e.length;m<j;++m)o[m]=+a(e[m],m,e)}return g.initialize=function(m,...j){s=m,h=j.find(S=>typeof S=="function")||Math.random,l=j.find(S=>[1,2,3].includes(S))||2,y()},g.links=function(m){return arguments.length?(e=m,y(),g):e},g.id=function(m){return arguments.length?(n=m,g):n},g.iterations=function(m){return arguments.length?(u=+m,g):u},g.strength=function(m){return arguments.length?(r=typeof m=="function"?m:Ne(+m),v(),g):r},g.distance=function(m){return arguments.length?(a=typeof m=="function"?m:Ne(+m),_(),g):a},g}const qf=1664525,Vf=1013904223,wr=4294967296;function Bf(){let e=1;return()=>(e=(qf*e+Vf)%wr)/wr}var kr=3;function Ht(e){return e.x}function jr(e){return e.y}function Gf(e){return e.z}var Wf=10,Xf=Math.PI*(3-Math.sqrt(5)),Yf=Math.PI*20/(9+Math.sqrt(221));function Zf(e,n){n=n||2;var r=Math.min(kr,Math.max(1,Math.round(n))),i,a=1,o=.001,s=1-Math.pow(o,1/300),l=0,c=.6,f=new Map,h=wn(g),u=ct("tick","end"),p=Bf();e==null&&(e=[]);function g(){y(),u.call("tick",i),a<o&&(h.stop(),u.call("end",i))}function y(m){var j,S=e.length,x;m===void 0&&(m=1);for(var w=0;w<m;++w)for(a+=(l-a)*s,f.forEach(function(k){k(a)}),j=0;j<S;++j)x=e[j],x.fx==null?x.x+=x.vx*=c:(x.x=x.fx,x.vx=0),r>1&&(x.fy==null?x.y+=x.vy*=c:(x.y=x.fy,x.vy=0)),r>2&&(x.fz==null?x.z+=x.vz*=c:(x.z=x.fz,x.vz=0));return i}function v(){for(var m=0,j=e.length,S;m<j;++m){if(S=e[m],S.index=m,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),S.fz!=null&&(S.z=S.fz),isNaN(S.x)||r>1&&isNaN(S.y)||r>2&&isNaN(S.z)){var x=Wf*(r>2?Math.cbrt(.5+m):r>1?Math.sqrt(.5+m):m),w=m*Xf,k=m*Yf;r===1?S.x=x:r===2?(S.x=x*Math.cos(w),S.y=x*Math.sin(w)):(S.x=x*Math.sin(w)*Math.cos(k),S.y=x*Math.cos(w),S.z=x*Math.sin(w)*Math.sin(k))}(isNaN(S.vx)||r>1&&isNaN(S.vy)||r>2&&isNaN(S.vz))&&(S.vx=0,r>1&&(S.vy=0),r>2&&(S.vz=0))}}function _(m){return m.initialize&&m.initialize(e,p,r),m}return v(),i={tick:y,restart:function(){return h.restart(g),i},stop:function(){return h.stop(),i},numDimensions:function(m){return arguments.length?(r=Math.min(kr,Math.max(1,Math.round(m))),f.forEach(_),i):r},nodes:function(m){return arguments.length?(e=m,v(),f.forEach(_),i):e},alpha:function(m){return arguments.length?(a=+m,i):a},alphaMin:function(m){return arguments.length?(o=+m,i):o},alphaDecay:function(m){return arguments.length?(s=+m,i):+s},alphaTarget:function(m){return arguments.length?(l=+m,i):l},velocityDecay:function(m){return arguments.length?(c=1-m,i):1-c},randomSource:function(m){return arguments.length?(p=m,f.forEach(_),i):p},force:function(m,j){return arguments.length>1?(j==null?f.delete(m):f.set(m,_(j)),i):f.get(m)},find:function(){var m=Array.prototype.slice.call(arguments),j=m.shift()||0,S=(r>1?m.shift():null)||0,x=(r>2?m.shift():null)||0,w=m.shift()||1/0,k=0,N=e.length,C,R,M,E,z,L;for(w*=w,k=0;k<N;++k)z=e[k],C=j-z.x,R=S-(z.y||0),M=x-(z.z||0),E=C*C+R*R+M*M,E<w&&(L=z,w=E);return L},on:function(m,j){return arguments.length>1?(u.on(m,j),i):u.on(m)}}}function Kf(){var e,n,r,i,a,o=Ne(-30),s,l=1,c=1/0,f=.81;function h(y){var v,_=e.length,m=(n===1?Di(e,Ht):n===2?Li(e,Ht,jr):n===3?Ui(e,Ht,jr,Gf):null).visitAfter(p);for(a=y,v=0;v<_;++v)r=e[v],m.visit(g)}function u(){if(e){var y,v=e.length,_;for(s=new Array(v),y=0;y<v;++y)_=e[y],s[_.index]=+o(_,y,e)}}function p(y){var v=0,_,m,j=0,S,x,w,k,N=y.length;if(N){for(S=x=w=k=0;k<N;++k)(_=y[k])&&(m=Math.abs(_.value))&&(v+=_.value,j+=m,S+=m*(_.x||0),x+=m*(_.y||0),w+=m*(_.z||0));v*=Math.sqrt(4/N),y.x=S/j,n>1&&(y.y=x/j),n>2&&(y.z=w/j)}else{_=y,_.x=_.data.x,n>1&&(_.y=_.data.y),n>2&&(_.z=_.data.z);do v+=s[_.data.index];while(_=_.next)}y.value=v}function g(y,v,_,m,j){if(!y.value)return!0;var S=[_,m,j][n-1],x=y.x-r.x,w=n>1?y.y-r.y:0,k=n>2?y.z-r.z:0,N=S-v,C=x*x+w*w+k*k;if(N*N/f<C)return C<c&&(x===0&&(x=Se(i),C+=x*x),n>1&&w===0&&(w=Se(i),C+=w*w),n>2&&k===0&&(k=Se(i),C+=k*k),C<l&&(C=Math.sqrt(l*C)),r.vx+=x*y.value*a/C,n>1&&(r.vy+=w*y.value*a/C),n>2&&(r.vz+=k*y.value*a/C)),!0;if(y.length||C>=c)return;(y.data!==r||y.next)&&(x===0&&(x=Se(i),C+=x*x),n>1&&w===0&&(w=Se(i),C+=w*w),n>2&&k===0&&(k=Se(i),C+=k*k),C<l&&(C=Math.sqrt(l*C)));do y.data!==r&&(N=s[y.data.index]*a/C,r.vx+=x*N,n>1&&(r.vy+=w*N),n>2&&(r.vz+=k*N));while(y=y.next)}return h.initialize=function(y,...v){e=y,i=v.find(_=>typeof _=="function")||Math.random,n=v.find(_=>[1,2,3].includes(_))||2,u()},h.strength=function(y){return arguments.length?(o=typeof y=="function"?y:Ne(+y),u(),h):o},h.distanceMin=function(y){return arguments.length?(l=y*y,h):Math.sqrt(l)},h.distanceMax=function(y){return arguments.length?(c=y*y,h):Math.sqrt(c)},h.theta=function(y){return arguments.length?(f=y*y,h):Math.sqrt(f)},h}function Qf(e,n,r,i){var a,o,s=Ne(.1),l,c;typeof e!="function"&&(e=Ne(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function f(u){for(var p=0,g=a.length;p<g;++p){var y=a[p],v=y.x-n||1e-6,_=(y.y||0)-r||1e-6,m=(y.z||0)-i||1e-6,j=Math.sqrt(v*v+_*_+m*m),S=(c[p]-j)*l[p]*u/j;y.vx+=v*S,o>1&&(y.vy+=_*S),o>2&&(y.vz+=m*S)}}function h(){if(a){var u,p=a.length;for(l=new Array(p),c=new Array(p),u=0;u<p;++u)c[u]=+e(a[u],u,a),l[u]=isNaN(c[u])?0:+s(a[u],u,a)}}return f.initialize=function(u,...p){a=u,o=p.find(g=>[1,2,3].includes(g))||2,h()},f.strength=function(u){return arguments.length?(s=typeof u=="function"?u:Ne(+u),h(),f):s},f.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Ne(+u),h(),f):e},f.x=function(u){return arguments.length?(n=+u,f):n},f.y=function(u){return arguments.length?(r=+u,f):r},f.z=function(u){return arguments.length?(i=+u,f):i},f}const{abs:Ge,cos:je,sin:Ie,acos:Jf,atan2:We,sqrt:Pe,pow:oe}=Math;function Xe(e){return e<0?-oe(-e,1/3):oe(e,1/3)}const Hi=Math.PI,pt=2*Hi,Me=Hi/2,eh=1e-6,qt=Number.MAX_SAFE_INTEGER||9007199254740991,Vt=Number.MIN_SAFE_INTEGER||-9007199254740991,th={x:0,y:0,z:0},P={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Pe(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const a=1-e;let o=n;if(i===0)return n[0].t=e,n[0];if(i===1){const l={x:a*o[0].x+e*o[1].x,y:a*o[0].y+e*o[1].y,t:e};return r&&(l.z=a*o[0].z+e*o[1].z),l}if(i<4){let l=a*a,c=e*e,f,h,u,p=0;i===2?(o=[o[0],o[1],o[2],th],f=l,h=a*e*2,u=c):i===3&&(f=l*a,h=l*e*3,u=a*c*3,p=e*c);const g={x:f*o[0].x+h*o[1].x+u*o[2].x+p*o[3].x,y:f*o[0].y+h*o[1].y+u*o[2].y+p*o[3].y,t:e};return r&&(g.z=f*o[0].z+h*o[1].z+u*o[2].z+p*o[3].z),g}const s=JSON.parse(JSON.stringify(n));for(;s.length>1;){for(let l=0;l<s.length-1;l++)s[l]={x:s[l].x+(s[l+1].x-s[l].x)*e,y:s[l].y+(s[l+1].y-s[l].y)*e},typeof s[l].z<"u"&&(s[l].z=s[l].z+(s[l+1].z-s[l].z)*e);s.splice(s.length-1,1)}return s[0].t=e,s[0]},computeWithRatios:function(e,n,r,i){const a=1-e,o=r,s=n;let l=o[0],c=o[1],f=o[2],h=o[3],u;if(l*=a,c*=e,s.length===2)return u=l+c,{x:(l*s[0].x+c*s[1].x)/u,y:(l*s[0].y+c*s[1].y)/u,z:i?(l*s[0].z+c*s[1].z)/u:!1,t:e};if(l*=a,c*=2*a,f*=e*e,s.length===3)return u=l+c+f,{x:(l*s[0].x+c*s[1].x+f*s[2].x)/u,y:(l*s[0].y+c*s[1].y+f*s[2].y)/u,z:i?(l*s[0].z+c*s[1].z+f*s[2].z)/u:!1,t:e};if(l*=a,c*=1.5*a,f*=3*a,h*=e*e*e,s.length===4)return u=l+c+f+h,{x:(l*s[0].x+c*s[1].x+f*s[2].x+h*s[3].x)/u,y:(l*s[0].y+c*s[1].y+f*s[2].y+h*s[3].y)/u,z:i?(l*s[0].z+c*s[1].z+f*s[2].z+h*s[3].z)/u:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,a=i.length,o=a-1;a>1;a--,o--){const s=[];for(let l=0,c;l<o;l++)c={x:o*(i[l+1].x-i[l].x),y:o*(i[l+1].y-i[l].y)},n&&(c.z=o*(i[l+1].z-i[l].z)),s.push(c);r.push(s),i=s}return r},between:function(e,n,r){return n<=e&&e<=r||P.approximately(e,n)||P.approximately(e,r)},approximately:function(e,n,r){return Ge(e-n)<=(r||eh)},length:function(e){const r=P.Tvalues.length;let i=0;for(let a=0,o;a<r;a++)o=.5*P.Tvalues[a]+.5,i+=P.Cvalues[a]*P.arcfn(o,e);return .5*i},map:function(e,n,r,i,a){const o=r-n,s=a-i,l=e-n,c=l/o;return i+s*c},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(P.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,a=n.y-e.y,o=r.x-e.x,s=r.y-e.y,l=i*s-a*o,c=i*o+a*s;return We(l,c)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return Pe(r*r+i*i)},closest:function(e,n){let r=oe(2,63),i,a;return e.forEach(function(o,s){a=P.dist(n,o),a<r&&(r=a,i=s)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=oe(e,n)+oe(1-e,n),i=r-1;return Ge(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=oe(1-e,n),i=oe(e,n)+r;return r/i},lli8:function(e,n,r,i,a,o,s,l){const c=(e*i-n*r)*(a-s)-(e-r)*(a*l-o*s),f=(e*i-n*r)*(o-l)-(n-i)*(a*l-o*s),h=(e-r)*(o-l)-(n-i)*(a-s);return h==0?!1:{x:c/h,y:f/h}},lli4:function(e,n,r,i){const a=e.x,o=e.y,s=n.x,l=n.y,c=r.x,f=r.y,h=i.x,u=i.y;return P.lli8(a,o,s,l,c,f,h,u)},lli:function(e,n){return P.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new W(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=qt,r=qt,i=Vt,a=Vt;return e.forEach(function(o){const s=o.bbox();n>s.x.min&&(n=s.x.min),r>s.y.min&&(r=s.y.min),i<s.x.max&&(i=s.x.max),a<s.y.max&&(a=s.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+a)/2,max:a,size:a-r}}},shapeintersections:function(e,n,r,i,a){if(!P.bboxoverlap(n,i))return[];const o=[],s=[e.startcap,e.forward,e.back,e.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return s.forEach(function(c){c.virtual||l.forEach(function(f){if(f.virtual)return;const h=c.intersects(f,a);h.length>0&&(h.c1=c,h.c2=f,h.s1=e,h.s2=r,o.push(h))})}),o},makeshape:function(e,n,r){const i=n.points.length,a=e.points.length,o=P.makeline(n.points[i-1],e.points[0]),s=P.makeline(e.points[a-1],n.points[0]),l={startcap:o,forward:e,back:n,endcap:s,bbox:P.findbbox([o,e,n,s])};return l.intersections=function(c){return P.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=qt,a=Vt,o,s;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)o=r[l],s=e.get(o),s[n]<i&&(i=s[n]),s[n]>a&&(a=s[n]);return{min:i,mid:(i+a)/2,max:a,size:a-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,a=-We(n.p2.y-i,n.p2.x-r),o=function(s){return{x:(s.x-r)*je(a)-(s.y-i)*Ie(a),y:(s.x-r)*Ie(a)+(s.y-i)*je(a)}};return e.map(o)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=P.align(e,n),a=function(N){return 0<=N&&N<=1};if(r===2){const N=i[0].y,C=i[1].y,R=i[2].y,M=N-2*C+R;if(M!==0){const E=-Pe(C*C-N*R),z=-N+C,L=-(E+z)/M,A=-(-E+z)/M;return[L,A].filter(a)}else if(C!==R&&M===0)return[(2*C-R)/(2*C-2*R)].filter(a);return[]}const o=i[0].y,s=i[1].y,l=i[2].y,c=i[3].y;let f=-o+3*s-3*l+c,h=3*o-6*s+3*l,u=-3*o+3*s,p=o;if(P.approximately(f,0)){if(P.approximately(h,0))return P.approximately(u,0)?[]:[-p/u].filter(a);const N=Pe(u*u-4*h*p),C=2*h;return[(N-u)/C,(-u-N)/C].filter(a)}h/=f,u/=f,p/=f;const g=(3*u-h*h)/3,y=g/3,v=(2*h*h*h-9*h*u+27*p)/27,_=v/2,m=_*_+y*y*y;let j,S,x,w,k;if(m<0){const N=-g/3,C=N*N*N,R=Pe(C),M=-v/(2*R),E=M<-1?-1:M>1?1:M,z=Jf(E),L=Xe(R),A=2*L;return x=A*je(z/3)-h/3,w=A*je((z+pt)/3)-h/3,k=A*je((z+2*pt)/3)-h/3,[x,w,k].filter(a)}else{if(m===0)return j=_<0?Xe(-_):-Xe(_),x=2*j-h/3,w=-j-h/3,[x,w].filter(a);{const N=Pe(m);return j=Xe(-_+N),S=Xe(_+N),[j-S-h/3].filter(a)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],a=n-2*r+i;if(a!==0){const o=-Pe(r*r-n*i),s=-n+r,l=-(o+s)/a,c=-(-o+s)/a;return[l,c]}else if(r!==i&&a===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,a){let o,s,l,c,f=0,h=0;const u=P.compute(e,n),p=P.compute(e,r),g=u.x*u.x+u.y*u.y;if(i?(o=Pe(oe(u.y*p.z-p.y*u.z,2)+oe(u.z*p.x-p.z*u.x,2)+oe(u.x*p.y-p.x*u.y,2)),s=oe(g+u.z*u.z,3/2)):(o=u.x*p.y-u.y*p.x,s=oe(g,3/2)),o===0||s===0)return{k:0,r:0};if(f=o/s,h=s/o,!a){const y=P.curvature(e-.001,n,r,i,!0).k,v=P.curvature(e+.001,n,r,i,!0).k;c=(v-f+(f-y))/2,l=(Ge(v-f)+Ge(f-y))/2}return{k:f,r:h,dk:c,adk:l}},inflections:function(e){if(e.length<4)return[];const n=P.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,a=n[1].x*n[2].y,o=n[3].x*n[2].y,s=18*(-3*r+2*i+3*a-o),l=18*(3*r-i-3*a),c=18*(a-r);if(P.approximately(s,0)){if(!P.approximately(l,0)){let p=-c/l;if(0<=p&&p<=1)return[p]}return[]}const f=2*s;if(P.approximately(f,0))return[];const h=l*l-4*s*c;if(h<0)return[];const u=Math.sqrt(h);return[(u-l)/f,-(l+u)/f].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let a=0,o,s,l,c;a<i;a++)if(o=r[a],s=e[o].mid,l=n[o].mid,c=(e[o].size+n[o].size)/2,Ge(s-l)>=c)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),a=n.bbox(),o=1e5,s=r||.5;if(i.x.size+i.y.size<s&&a.x.size+a.y.size<s)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];let l=e.split(.5),c=n.split(.5),f=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];f=f.filter(function(u){return P.bboxoverlap(u.left.bbox(),u.right.bbox())});let h=[];return f.length===0||(f.forEach(function(u){h=h.concat(P.pairiteration(u.left,u.right,s))}),h=h.filter(function(u,p){return h.indexOf(u)===p})),h},getccenter:function(e,n,r){const i=n.x-e.x,a=n.y-e.y,o=r.x-n.x,s=r.y-n.y,l=i*je(Me)-a*Ie(Me),c=i*Ie(Me)+a*je(Me),f=o*je(Me)-s*Ie(Me),h=o*Ie(Me)+s*je(Me),u=(e.x+n.x)/2,p=(e.y+n.y)/2,g=(n.x+r.x)/2,y=(n.y+r.y)/2,v=u+l,_=p+c,m=g+f,j=y+h,S=P.lli8(u,p,v,_,g,y,m,j),x=P.dist(S,e);let w=We(e.y-S.y,e.x-S.x),k=We(n.y-S.y,n.x-S.x),N=We(r.y-S.y,r.x-S.x),C;return w<N?((w>k||k>N)&&(w+=pt),w>N&&(C=N,N=w,w=C)):N<k&&k<w?(C=N,N=w,w=C):N+=pt,S.s=w,S.e=N,S.r=x,S},numberSort:function(e,n){return e-n}};class nt{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return P.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)P.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new nt(r)}}const{abs:Ye,min:Sr,max:Ar,cos:nh,sin:rh,acos:ih,sqrt:Ze}=Math,ah=Math.PI;class W{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const g=[];r.forEach(function(y){["x","y","z"].forEach(function(v){typeof y[v]<"u"&&g.push(y[v])})}),r=g}let a=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!a&&(o===9||o===12)||n&&n[0]&&typeof n[0].z<"u",l=this.points=[];for(let g=0,y=s?3:2;g<o;g+=y){var c={x:r[g],y:r[g+1]};s&&(c.z=r[g+2]),l.push(c)}const f=this.order=l.length-1,h=this.dims=["x","y"];s&&h.push("z"),this.dimlen=h.length;const u=P.align(l,{p1:l[0],p2:l[f]}),p=P.dist(l[0],l[f]);this._linear=u.reduce((g,y)=>g+Ye(y.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,a){if(typeof a>"u"&&(a=.5),a===0)return new W(r,r,i);if(a===1)return new W(n,r,r);const o=W.getABC(2,n,r,i,a);return new W(n,o.A,i)}static cubicFromPoints(n,r,i,a,o){typeof a>"u"&&(a=.5);const s=W.getABC(3,n,r,i,a);typeof o>"u"&&(o=P.dist(r,s.C));const l=o*(1-a)/a,c=P.dist(n,i),f=(i.x-n.x)/c,h=(i.y-n.y)/c,u=o*f,p=o*h,g=l*f,y=l*h,v={x:r.x-u,y:r.y-p},_={x:r.x+g,y:r.y+y},m=s.A,j={x:m.x+(v.x-m.x)/(1-a),y:m.y+(v.y-m.y)/(1-a)},S={x:m.x+(_.x-m.x)/a,y:m.y+(_.y-m.y)/a},x={x:n.x+(j.x-n.x)/a,y:n.y+(j.y-n.y)/a},w={x:i.x+(S.x-i.x)/(1-a),y:i.y+(S.y-i.y)/(1-a)};return new W(n,x,w,i)}static getUtils(){return P}getUtils(){return W.getUtils()}static get PolyBezier(){return nt}valueOf(){return this.toString()}toString(){return P.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,a=["M",r,i,this.order===2?"Q":"C"];for(let o=1,s=n.length;o<s;o++)a.push(n[o].x),a.push(n[o].y);return a.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=P.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=P.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return P.length(this.derivative.bind(this))}static getABC(n=2,r,i,a,o=.5){const s=P.projectionratio(o,n),l=1-s,c={x:s*r.x+l*a.x,y:s*r.y+l*a.y},f=P.abcratio(o,n);return{A:{x:i.x+(i.x-c.x)/f,y:i.y+(i.y-c.y)/f},B:i,C:c,S:r,E:a}}getABC(n,r){r=r||this.get(n);let i=this.points[0],a=this.points[this.order];return W.getABC(this.order,i,r,a,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,i,a;r<n;r++)a=r/(n-1),i=this.compute(a),i.t=a,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),a=[];for(let o=0,s,l=0;o<i.length;o++)s=i[o],P.dist(s,n)<r&&(a.push(s),l+=o/i.length);return a.length?t/=a.length:!1}project(n){const r=this.getLUT(),i=r.length-1,a=P.closest(r,n),o=a.mpos,s=(o-1)/i,l=(o+1)/i,c=.1/i;let f=a.mdist,h=s,u=h,p;f+=1;for(let g;h<l+c;h+=c)p=this.compute(h),g=P.dist(n,p),g<f&&(f=g,u=h);return u=u<0?0:u>1?1:u,p=this.compute(u),p.t=u,p.d=f,p}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?P.computeWithRatios(n,this.points,this.ratios,this._3d):P.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let a=1,o,s;a<i;a++)o=n[a],s=n[a-1],r[a]={x:(i-a)/i*o.x+a/i*s.x,y:(i-a)/i*o.y+a/i*s.y};return r[i]=n[i-1],new W(r)}derivative(n){return P.compute(n,this.dpoints[0],this._3d)}dderivative(n){return P.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new W(P.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return P.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return P.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=Ze(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),a=Ze(r.x*r.x+r.y*r.y+r.z*r.z),o=Ze(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=a,r.y/=a,r.z/=a,i.x/=o,i.y/=o,i.z/=o;const s={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},l=Ze(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=l,s.y/=l,s.z/=l;const c=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:n,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(n){let r=this.points,i=[],a=[],o=0;for(a[o++]=r[0],a[o++]=r[1],a[o++]=r[2],this.order===3&&(a[o++]=r[3]);r.length>1;){i=[];for(let s=0,l,c=r.length-1;s<c;s++)l=P.lerp(n,r[s],r[s+1]),a[o++]=l,i.push(l);r=i}return a}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),a={left:this.order===2?new W([i[0],i[3],i[5]]):new W([i[0],i[4],i[7],i[9]]),right:this.order===2?new W([i[5],i[4],i[2]]):new W([i[9],i[8],i[6],i[3]]),span:i};return a.left._t1=P.map(0,0,1,this._t1,this._t2),a.left._t2=P.map(n,0,1,this._t1,this._t2),a.right._t1=P.map(n,0,1,this._t1,this._t2),a.right._t2=P.map(1,0,1,this._t1,this._t2),r?(r=P.map(r,n,1,0,1),a.right.split(r).left):a}extrema(){const n={};let r=[];return this.dims.forEach((function(i){let a=function(s){return s[i]},o=this.dpoints[0].map(a);n[i]=P.droots(o),this.order===3&&(o=this.dpoints[1].map(a),n[i]=n[i].concat(P.droots(o))),n[i]=n[i].filter(function(s){return s>=0&&s<=1}),r=r.concat(n[i].sort(P.numberSort))}).bind(this)),n.values=r.sort(P.numberSort).filter(function(i,a){return r.indexOf(i)===a}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=P.getminmax(this,i,n[i])}).bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return P.bboxoverlap(r,i)}offset(n,r){if(typeof r<"u"){const i=this.get(n),a=this.normal(n),o={c:i,n:a,x:i.x+a.x*r,y:i.y+a.y*r};return this._3d&&(o.z=i.z+a.z*r),o}if(this._linear){const i=this.normal(0),a=this.points.map(function(o){const s={x:o.x+n*i.x,y:o.y+n*i.y};return o.z&&i.z&&(s.z=o.z+n*i.z),s});return[new W(a)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const a=P.angle(this.points[0],this.points[3],this.points[1]),o=P.angle(this.points[0],this.points[3],this.points[2]);if(a>0&&o<0||a<0&&o>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),Ye(ih(i))<ah/3}reduce(){let n,r=0,i=0,a=.01,o,s=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],n=1;n<c.length;n++)i=c[n],o=this.split(r,i),o._t1=r,o._t2=i,s.push(o),r=i;return s.forEach(function(f){for(r=0,i=0;i<=1;)for(i=r+a;i<=1+a;i+=a)if(o=f.split(r,i),!o.simple()){if(i-=a,Ye(r-i)<a)return[];o=f.split(r,i),o._t1=P.map(r,0,1,f._t1,f._t2),o._t2=P.map(i,0,1,f._t1,f._t2),l.push(o),r=i;break}r<1&&(o=f.split(r,1),o._t1=P.map(r,0,1,f._t1,f._t2),o._t2=f._t2,l.push(o))}),l}translate(n,r,i){i=typeof i=="number"?i:r;const a=this.order;let o=this.points.map((s,l)=>(1-l/a)*r+l/a*i);return new W(this.points.map((s,l)=>({x:s.x+n.x*o[l],y:s.y+n.y*o[l]})))}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const a=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):n,i?i(1):n);const s=i?i(0):n,l=i?i(1):n,c=[this.offset(0,10),this.offset(1,10)],f=[],h=P.lli4(c[0],c[0].c,c[1],c[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(u){const p=f[u*r]=P.copy(o[u*r]);p.x+=(u?l:s)*c[u].n.x,p.y+=(u?l:s)*c[u].n.y}),i?([0,1].forEach(function(u){if(!(r===2&&u)){var p=o[u+1],g={x:p.x-h.x,y:p.y-h.y},y=i?i((u+1)/r):n;i&&!a&&(y=-y);var v=Ze(g.x*g.x+g.y*g.y);g.x/=v,g.y/=v,f[u+1]={x:p.x+y*g.x,y:p.y+y*g.y}}}),new W(f)):([0,1].forEach(u=>{if(r===2&&u)return;const p=f[u*r],g=this.derivative(u),y={x:p.x+g.x,y:p.y+g.y};f[u+1]=P.lli4(p,y,h,o[u+1])}),new W(f))}outline(n,r,i,a){if(r=r===void 0?n:r,this._linear){const w=this.normal(0),k=this.points[0],N=this.points[this.points.length-1];let C,R,M;i===void 0&&(i=n,a=r),C={x:k.x+w.x*n,y:k.y+w.y*n},M={x:N.x+w.x*i,y:N.y+w.y*i},R={x:(C.x+M.x)/2,y:(C.y+M.y)/2};const E=[C,R,M];C={x:k.x-w.x*r,y:k.y-w.y*r},M={x:N.x-w.x*a,y:N.y-w.y*a},R={x:(C.x+M.x)/2,y:(C.y+M.y)/2};const z=[M,R,C],L=P.makeline(z[2],E[0]),A=P.makeline(E[2],z[0]),O=[L,new W(E),A,new W(z)];return new nt(O)}const o=this.reduce(),s=o.length,l=[];let c=[],f,h=0,u=this.length();const p=typeof i<"u"&&typeof a<"u";function g(w,k,N,C,R){return function(M){const E=C/N,z=(C+R)/N,L=k-w;return P.map(M,0,1,w+E*L,w+z*L)}}o.forEach(function(w){const k=w.length();p?(l.push(w.scale(g(n,i,u,h,k))),c.push(w.scale(g(-r,-a,u,h,k)))):(l.push(w.scale(n)),c.push(w.scale(-r))),h+=k}),c=c.map(function(w){return f=w.points,f[3]?w.points=[f[3],f[2],f[1],f[0]]:w.points=[f[2],f[1],f[0]],w}).reverse();const y=l[0].points[0],v=l[s-1].points[l[s-1].points.length-1],_=c[s-1].points[c[s-1].points.length-1],m=c[0].points[0],j=P.makeline(_,y),S=P.makeline(v,m),x=[j].concat(l).concat([S]).concat(c);return new nt(x)}outlineshapes(n,r,i){r=r||n;const a=this.outline(n,r).curves,o=[];for(let s=1,l=a.length;s<l/2;s++){const c=P.makeshape(a[s],a[l-s],i);c.startcap.virtual=s>1,c.endcap.virtual=s<l/2-1,o.push(c)}return o}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof W&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=Sr(n.p1.x,n.p2.x),i=Sr(n.p1.y,n.p2.y),a=Ar(n.p1.x,n.p2.x),o=Ar(n.p1.y,n.p2.y);return P.roots(this.points,n).filter(s=>{var l=this.get(s);return P.between(l.x,r,a)&&P.between(l.y,i,o)})}selfintersects(n){const r=this.reduce(),i=r.length-2,a=[];for(let o=0,s,l,c;o<i;o++)l=r.slice(o,o+1),c=r.slice(o+2),s=this.curveintersects(l,c,n),a.push(...s);return a}curveintersects(n,r,i){const a=[];n.forEach(function(s){r.forEach(function(l){s.overlaps(l)&&a.push({left:s,right:l})})});let o=[];return a.forEach(function(s){const l=P.pairiteration(s.left,s.right,i);l.length>0&&(o=o.concat(l))}),o}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,a){const o=(a-i)/4,s=this.get(i+o),l=this.get(a-o),c=P.dist(n,r),f=P.dist(n,s),h=P.dist(n,l);return Ye(f-c)+Ye(h-c)}_iterate(n,r){let i=0,a=1,o;do{o=0,a=1;let s=this.get(i),l,c,f,h,u=!1,p=!1,g,y=a,v=1;do if(p=u,h=f,y=(i+a)/2,l=this.get(y),c=this.get(a),f=P.getccenter(s,l,c),f.interval={start:i,end:a},u=this._error(f,s,i,a)<=n,g=p&&!u,g||(v=a),u){if(a>=1){if(f.interval.end=v=1,h=f,a>1){let m={x:f.x+f.r*nh(f.e),y:f.y+f.r*rh(f.e)};f.e+=P.angle({x:f.x,y:f.y},m,this.get(1))}break}a=a+(a-i)/2}else a=y;while(!g&&o++<100);if(o>=100)break;h=h||f,r.push(h),i=v}while(a<1);return r}}function gn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function oh(e){if(Array.isArray(e))return e}function sh(e){if(Array.isArray(e))return gn(e)}function lh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ch(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}function uh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hh(e,n){if(e==null)return{};var r,i,a=dh(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dh(e,n){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}function ph(e,n){return oh(e)||ch(e,n)||qi(e,n)||uh()}function gh(e){return sh(e)||lh(e)||qi(e)||fh()}function mh(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yh(e){var n=mh(e,"string");return typeof n=="symbol"?n:n+""}function qi(e,n){if(e){if(typeof e=="string")return gn(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gn(e,n):void 0}}var vh=(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),o=e.reduce(function(l,c){var f=l,h=c;return a.forEach(function(u,p){var g=u.keyAccessor,y=u.isProp,v;if(y){var _=h,m=_[g],j=hh(_,[g].map(yh));v=m,h=j}else v=g(h,p);p+1<a.length?(f.hasOwnProperty(v)||(f[v]={}),f=f[v]):r?(f.hasOwnProperty(v)||(f[v]=[]),f[v].push(h)):f[v]=h}),l},{});r instanceof Function&&(function l(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;f===a.length?Object.keys(c).forEach(function(h){return c[h]=r(c[h])}):Object.values(c).forEach(function(h){return l(h,f+1)})})(o);var s=o;return i&&(s=[],(function l(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];f.length===a.length?s.push({keys:f,vals:c}):Object.entries(c).forEach(function(h){var u=ph(h,2),p=u[0],g=u[1];return l(g,[].concat(gh(f),[p]))})})(o),n instanceof Array&&n.length===0&&s.length===1&&(s[0].keys=[])),s});function _h(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}const xh=_h("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function bh(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var wh=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;bh(wh);function mn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function kh(e){if(Array.isArray(e))return e}function jh(e){if(Array.isArray(e))return mn(e)}function Nr(e,n,r){if(Vi())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var a=new(e.bind.apply(e,i));return a}function st(e,n,r){return(n=Ph(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Vi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vi=function(){return!!e})()}function Sh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ah(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}function Nh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ch(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function De(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Cr(Object(r),!0).forEach(function(i){st(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function rt(e,n){return kh(e)||Ah(e,n)||Bi(e,n)||Nh()}function le(e){return jh(e)||Sh(e)||Bi(e)||Ch()}function Th(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Ph(e){var n=Th(e,"string");return typeof n=="symbol"?n:n+""}function yn(e){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yn(e)}function Bi(e,n){if(e){if(typeof e=="string")return mn(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mn(e,n):void 0}}var Mh=ka(xh);function Tr(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=Mh(n(i))})}function Oh(e,n){var r=e.nodes,i=e.links,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.nodeFilter,s=o===void 0?function(){return!0}:o,l=a.onLoopError,c=l===void 0?function(g){throw"Invalid DAG structure! Found cycle in node path: ".concat(g.join(" -> "),".")}:l,f={};r.forEach(function(g){return f[n(g)]={data:g,out:[],depth:-1,skip:!s(g)}}),i.forEach(function(g){var y=g.source,v=g.target,_=x(y),m=x(v);if(!f.hasOwnProperty(_))throw"Missing source node with id: ".concat(_);if(!f.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var j=f[_],S=f[m];j.out.push(S);function x(w){return yn(w)==="object"?n(w):w}});var h=[];p(Object.values(f));var u=Object.assign.apply(Object,[{}].concat(le(Object.entries(f).filter(function(g){var y=rt(g,2),v=y[1];return!v.skip}).map(function(g){var y=rt(g,2),v=y[0],_=y[1];return st({},v,_.depth)}))));return u;function p(g){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=function(){var x=g[m];if(y.indexOf(x)!==-1){var w=[].concat(le(y.slice(y.indexOf(x))),[x]).map(function(k){return n(k.data)});return h.some(function(k){return k.length===w.length&&k.every(function(N,C){return N===w[C]})})||(h.push(w),c(w)),1}v>x.depth&&(x.depth=v,p(x.out,[].concat(le(y),[x]),v+(x.skip?0:1)))},m=0,j=g.length;m<j;m++)_()}}var Eh=2,J=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Pr=function(n,r){if(!r.isShadow){var i=B(r.linkDirectionalParticles);r.graphData.links.forEach(function(a){var o=Math.round(Math.abs(i(a)));o?a.__photons=le(Array(o)).map(function(){return{}}):delete a.__photons})}},Pt=An({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,Pr(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:J},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:J},nodeColor:{default:"color",triggerUpdate:!1,onChange:J},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:J},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:J},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:J},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:J},linkColor:{default:"color",triggerUpdate:!1,onChange:J},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:J},linkWidth:{default:1,triggerUpdate:!1,onChange:J},linkCurvature:{default:0,triggerUpdate:!1,onChange:J},linkCanvasObject:{triggerUpdate:!1,onChange:J},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:J},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:J},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:J},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:J},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Pr},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),a(),!n.isShadow&&o(),!n.isShadow&&s(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var l=B(n.nodeVisibility),c=B(n.nodeVal),f=B(n.nodeColor),h=B(n.nodeCanvasObjectMode),u=n.ctx,p=n.isShadow/n.globalScale,g=n.graphData.nodes.filter(l);u.save(),g.forEach(function(y){var v=h(y);if(n.nodeCanvasObject&&(v==="before"||v==="replace")&&(n.nodeCanvasObject(y,u,n.globalScale),v==="replace")){u.restore();return}var _=Math.sqrt(Math.max(0,c(y)||1))*n.nodeRelSize+p;u.beginPath(),u.arc(y.x,y.y,_,0,2*Math.PI,!1),u.fillStyle=f(y)||"rgba(31, 120, 180, 0.92)",u.fill(),n.nodeCanvasObject&&v==="after"&&n.nodeCanvasObject(y,n.ctx,n.globalScale)}),u.restore()}function a(){var l=B(n.linkVisibility),c=B(n.linkColor),f=B(n.linkWidth),h=B(n.linkLineDash),u=B(n.linkCurvature),p=B(n.linkCanvasObjectMode),g=n.ctx,y=n.isShadow*2,v=n.graphData.links.filter(l);v.forEach(k);var _=[],m=[],j=v;if(n.linkCanvasObject){var S=[],x=[];v.forEach(function(N){return({before:_,after:m,replace:S}[p(N)]||x).push(N)}),j=[].concat(le(_),m,x),_=_.concat(S)}g.save(),_.forEach(function(N){return n.linkCanvasObject(N,g,n.globalScale)}),g.restore();var w=vh(j,[c,f,h]);g.save(),Object.entries(w).forEach(function(N){var C=rt(N,2),R=C[0],M=C[1],E=!R||R==="undefined"?"rgba(0,0,0,0.15)":R;Object.entries(M).forEach(function(z){var L=rt(z,2),A=L[0],O=L[1],T=(A||1)/n.globalScale+y;Object.entries(O).forEach(function(I){var $=rt(I,2);$[0];var F=$[1],U=h(F[0]);g.beginPath(),F.forEach(function(q){var V=q.source,K=q.target;if(!(!V||!K||!V.hasOwnProperty("x")||!K.hasOwnProperty("x"))){g.moveTo(V.x,V.y);var Z=q.__controlPoints;Z?g[Z.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(g,le(Z).concat([K.x,K.y])):g.lineTo(K.x,K.y)}}),g.strokeStyle=E,g.lineWidth=T,g.setLineDash(U||[]),g.stroke()})})}),g.restore(),g.save(),m.forEach(function(N){return n.linkCanvasObject(N,g,n.globalScale)}),g.restore();function k(N){var C=u(N);if(!C){N.__controlPoints=null;return}var R=N.source,M=N.target;if(!(!R||!M||!R.hasOwnProperty("x")||!M.hasOwnProperty("x"))){var E=Math.sqrt(Math.pow(M.x-R.x,2)+Math.pow(M.y-R.y,2));if(E>0){var z=Math.atan2(M.y-R.y,M.x-R.x),L=E*C,A={x:(R.x+M.x)/2+L*Math.cos(z-Math.PI/2),y:(R.y+M.y)/2+L*Math.sin(z-Math.PI/2)};N.__controlPoints=[A.x,A.y]}else{var O=C*70;N.__controlPoints=[M.x,M.y-O,M.x+O,M.y]}}}}function o(){var l=1.6,c=.2,f=B(n.linkDirectionalArrowLength),h=B(n.linkDirectionalArrowRelPos),u=B(n.linkVisibility),p=B(n.linkDirectionalArrowColor||n.linkColor),g=B(n.nodeVal),y=n.ctx;y.save(),n.graphData.links.filter(u).forEach(function(v){var _=f(v);if(!(!_||_<0)){var m=v.source,j=v.target;if(!(!m||!j||!m.hasOwnProperty("x")||!j.hasOwnProperty("x"))){var S=Math.sqrt(Math.max(0,g(m)||1))*n.nodeRelSize,x=Math.sqrt(Math.max(0,g(j)||1))*n.nodeRelSize,w=Math.min(1,Math.max(0,h(v))),k=p(v)||"rgba(0,0,0,0.28)",N=_/l/2,C=v.__controlPoints&&Nr(W,[m.x,m.y].concat(le(v.__controlPoints),[j.x,j.y])),R=C?function(T){return C.get(T)}:function(T){return{x:m.x+(j.x-m.x)*T||0,y:m.y+(j.y-m.y)*T||0}},M=C?C.length():Math.sqrt(Math.pow(j.x-m.x,2)+Math.pow(j.y-m.y,2)),E=S+_+(M-S-x-_)*w,z=R(E/M),L=R((E-_)/M),A=R((E-_*(1-c))/M),O=Math.atan2(z.y-L.y,z.x-L.x)-Math.PI/2;y.beginPath(),y.moveTo(z.x,z.y),y.lineTo(L.x+N*Math.cos(O),L.y+N*Math.sin(O)),y.lineTo(A.x,A.y),y.lineTo(L.x-N*Math.cos(O),L.y-N*Math.sin(O)),y.fillStyle=k,y.fill()}}}),y.restore()}function s(){var l=B(n.linkDirectionalParticles),c=B(n.linkDirectionalParticleSpeed),f=B(n.linkDirectionalParticleOffset),h=B(n.linkDirectionalParticleWidth),u=B(n.linkVisibility),p=B(n.linkDirectionalParticleColor||n.linkColor),g=n.ctx;g.save(),n.graphData.links.filter(u).forEach(function(y){var v=l(y);if(!(!y.hasOwnProperty("__photons")||!y.__photons.length)){var _=y.source,m=y.target;if(!(!_||!m||!_.hasOwnProperty("x")||!m.hasOwnProperty("x"))){var j=c(y),S=Math.abs(f(y)),x=y.__photons||[],w=Math.max(0,h(y)/2)/Math.sqrt(n.globalScale),k=p(y)||"rgba(0,0,0,0.28)";g.fillStyle=k;var N=y.__controlPoints?Nr(W,[_.x,_.y].concat(le(y.__controlPoints),[m.x,m.y])):null,C=0,R=!1;x.forEach(function(M){var E=!!M.__singleHop;if(M.hasOwnProperty("__progressRatio")||(M.__progressRatio=E?0:(C+S)/v),!E&&C++,M.__progressRatio+=j,M.__progressRatio>=1)if(!E)M.__progressRatio=M.__progressRatio%1;else{R=!0;return}var z=M.__progressRatio,L=N?N.get(z):{x:_.x+(m.x-_.x)*z||0,y:_.y+(m.y-_.y)*z||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(L.x,L.y,y,g,n.globalScale):(g.beginPath(),g.arc(L.x,L.y,w,0,2*Math.PI,!1),g.fill())}),R&&(y.__photons=y.__photons.filter(function(M){return!M.__singleHop||M.__progressRatio<=1}))}}}),g.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Zf().force("link",Hf()).force("charge",Kf()).force("center",qu()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&Tr(n.graphData.nodes,B(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&Tr(n.graphData.links,B(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(p){p.source=p[n.linkSource],p.target=p[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var i=n.forceLayout.force("link");i&&i.id(function(p){return p[n.nodeId]}).links(n.graphData.links);var a=n.dagMode&&Oh(n.graphData,function(p){return p[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),o=Math.max.apply(Math,le(Object.values(a||[]))),s=n.dagLevelDistance||n.graphData.nodes.length/(o||1)*Eh*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(p){return delete p[l]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var c=["rl","bu"].includes(n.dagMode),f=function(g){return(a[g[n.nodeId]]-o/2)*s*(c?-1:1)},h=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(p){return p[h]=f(p)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?Qf(function(p){var g=a[p[n.nodeId]]||-1;return(n.dagMode==="radialin"?o-g:g)*s}).strength(function(p){return n.dagNodeFilter(p)?1:0}):null);for(var u=0;u<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);u++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function Gi(e,n){var r=e instanceof Array?e:[e],i=new n;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(l,c){r.forEach(function(f){return c[f][o](l)})},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];var h=[];return r.forEach(function(u){var p=s[u],g=p[o].apply(p,c);g!==p&&h.push(g)}),h.length?h[0]:this}}}}var Rh=800,zh=4,Ih=5,Wi=Gi("forceGraph",Pt),Dh=Gi(["forceGraph","shadowGraph"],Pt),$h=Object.assign.apply(Object,le(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return st({},e,Wi.linkProp(e))})).concat(le(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return st({},e,Dh.linkProp(e))})))),Lh=Object.assign.apply(Object,le(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return st({},e,Wi.linkMethod(e))})));function Bt(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(o){o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),o.width=e.width*i,o.height=e.height*i,!n&&!r&&o.getContext("2d").scale(i,i)});var a=pe(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/a,(e.height-r)/2/a),e.needsRedraw=!0}}function Xi(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function Mr(e,n,r){e.save(),Xi(e),e.clearRect(0,0,n,r),e.restore()}var Fh=An({props:De({width:{default:window.innerWidth,onChange:function(n,r){return Bt(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return Bt(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(a){return(a||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(a){var o=a.type,s=a.objs;s.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:o,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,a,o){return n(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,a,o){return n(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},$h),aliases:{stopAnimation:"pauseAnimation"},methods:De({graph2ScreenCoords:function(n,r,i){var a=pe(n.canvas);return{x:r*a.k+a.x,y:i*a.k+a.y}},screen2GraphCoords:function(n,r,i){var a=pe(n.canvas);return{x:(r-a.x)/a.k,y:(i-a.y)/a.k}},centerAt:function(n,r,i,a){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return a?n.tweenGroup.add(new tr(s()).to(o,a).easing(Re.Quadratic.Out).onUpdate(l).start()):l(o),this}return s();function s(){var c=pe(n.canvas);return{x:(n.width/2-c.x)/c.k,y:(n.height/2-c.y)/c.k}}function l(c){var f=c.x,h=c.y;n.zoom.translateTo(n.zoom.__baseElem,f===void 0?s().x:f,h===void 0?s().y:h),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?n.tweenGroup.add(new tr({k:a()}).to({k:r},i).easing(Re.Quadratic.Out).onUpdate(function(s){var l=s.k;return o(l)}).start()):o(r),this;return a();function a(){return pe(n.canvas).k}function o(s){n.zoom.scaleTo(n.zoom.__baseElem,s),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];var l=this.getGraphBbox.apply(this,o);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},f=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(l.x[1]-l.x[0]),(n.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(f,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=B(n.nodeVal),a=function(l){return Math.sqrt(Math.max(0,i(l)||1))*n.nodeRelSize},o=n.graphData.nodes.filter(r).map(function(s){return{x:s.x,y:s.y,r:a(s)}});return o.length?{x:[Ln(o,function(s){return s.x-s.r}),Fn(o,function(s){return s.x+s.r})],y:[Ln(o,function(s){return s.y-s.r}),Fn(o,function(s){return s.y+s.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Lh),stateInit:function(){return{lastSetZoom:1,zoom:tc(),forceGraph:new Pt,shadowGraph:new Pt().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new bu,tweenGroup:new yi}},init:function(n,r){var i=this;n.innerHTML="";var a=document.createElement("div");a.classList.add("force-graph-container"),a.style.position="relative",n.appendChild(a),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),a.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),s=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var u=null,p=window.devicePixelRatio,g=l.x>0&&l.y>0?s.getImageData(l.x*p,l.y*p,1,1):null;return g&&(u=r.colorTracker.lookup(g.data)),u};se(r.canvas).call(Ds().subject(function(){if(!r.enableNodeDrag)return null;var h=c();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var u=h.subject;u.__initialDragPos={x:u.x,y:u.y,fx:u.fx,fy:u.fy},h.active||(u.fx=u.x,u.fy=u.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var u=h.subject,p=u.__initialDragPos,g=h,y=pe(r.canvas).k,v={x:p.x+(g.x-p.x)/y-u.x,y:p.y+(g.y-p.y)/y-u.y};["x","y"].forEach(function(_){return u["f".concat(_)]=u[_]=p[_]+(g[_]-p[_])/y}),!(!u.__dragged&&Ih>=Math.sqrt(ja(["x","y"].map(function(_){return Math.pow(h[_]-p[_],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,u.__dragged=!0,r.onNodeDrag(u,v))}).on("end",function(h){var u=h.subject,p=u.__initialDragPos,g={x:u.x-p.x,y:u.y-p.y};p.fx===void 0&&(u.fx=void 0),p.fy===void 0&&(u.fy=void 0),delete u.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,u.__dragged&&(delete u.__dragged,r.onNodeDragEnd(u,g))})),r.zoom(r.zoom.__baseElem=se(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(h.type!=="wheel"||B(r.enableZoomInteraction)(h))&&(h.type==="wheel"||B(r.enablePanInteraction)(h))}).on("zoom",function(h){var u=h.transform;[o,s].forEach(function(p){Xi(p),p.translate(u.x,u.y),p.scale(u.k,u.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(De(De({},u),i.centerAt())),r.needsRedraw=!0}).on("end",function(h){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(De(De({},h.transform),i.centerAt()))}),Bt(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){pe(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=zh/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Hu(a),["pointermove","pointerdown"].forEach(function(h){return a.addEventListener(h,function(u){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=u),!r.isPointerDragging&&u.type==="pointermove"&&r.onBackgroundClick&&(u.pressure>0||r.isPointerPressed)&&(u.pointerType==="mouse"||u.movementX===void 0||[u.movementX,u.movementY].some(function(y){return Math.abs(y)>1}))&&(r.isPointerDragging=!0);var p=g(a);l.x=u.pageX-p.left,l.y=u.pageY-p.top;function g(y){var v=y.getBoundingClientRect(),_=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;return{top:v.top+m,left:v.left+_}}},{passive:!0})}),a.addEventListener("pointerup",function(h){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var u=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"Click")];p&&p.apply(void 0,[r.hoverObj.d].concat(u))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,u);if(h.button===2)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"RightClick")];g&&g.apply(void 0,[r.hoverObj.d].concat(u))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,u)})}},{passive:!0}),a.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(s);var f=Cc(function(){Mr(s,r.width,r.height),r.shadowGraph.linkWidth(function(u){return B(r.linkWidth)(u)+r.linkHoverPrecision});var h=pe(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},Rh);r.flushShadowCanvas=f.flush,(this._animationCycle=function h(){var u=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(S){return S.__photons&&S.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var p=r.isPointerDragging?null:c();if(p!==r.hoverObj){var g=r.hoverObj,y=g?g.type:null,v=p?p.type:null;if(y&&y!==v){var _=r["on".concat(y,"Hover")];_&&_(null,g.d)}if(v){var m=r["on".concat(v,"Hover")];m&&m(p.d,y===v?g.d:null)}r.tooltip.content(p&&B(r["".concat(p.type.toLowerCase(),"Label")])(p.d)||null),r.canvas.classList[(p&&r["on".concat(v,"Click")]||!p&&r.onBackgroundClick)&&B(r.showPointerCursor)(p?.d)?"add":"remove"]("clickable"),r.hoverObj=p}u&&f()}if(u){Mr(o,r.width,r.height);var j=pe(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,j),r.forceGraph.globalScale(j).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,j)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(n){}}),Gt={exports:{}},Wt,Or;function Uh(){if(Or)return Wt;Or=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wt=e,Wt}var Xt,Er;function Hh(){if(Er)return Xt;Er=1;var e=Uh();function n(){}function r(){}return r.resetWarningCache=n,Xt=function(){function i(s,l,c,f,h,u){if(u!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function a(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:n};return o.PropTypes=o,o},Xt}var Rr;function qh(){return Rr||(Rr=1,Gt.exports=Hh()()),Gt.exports}var Vh=qh();const b=Ca(Vh),Dt={width:b.number,height:b.number,graphData:b.shape({nodes:b.arrayOf(b.object).isRequired,links:b.arrayOf(b.object).isRequired}),backgroundColor:b.string,nodeRelSize:b.number,nodeId:b.string,nodeLabel:b.oneOfType([b.string,b.func]),nodeVal:b.oneOfType([b.number,b.string,b.func]),nodeVisibility:b.oneOfType([b.bool,b.string,b.func]),nodeColor:b.oneOfType([b.string,b.func]),nodeAutoColorBy:b.oneOfType([b.string,b.func]),onNodeHover:b.func,onNodeClick:b.func,linkSource:b.string,linkTarget:b.string,linkLabel:b.oneOfType([b.string,b.func]),linkVisibility:b.oneOfType([b.bool,b.string,b.func]),linkColor:b.oneOfType([b.string,b.func]),linkAutoColorBy:b.oneOfType([b.string,b.func]),linkWidth:b.oneOfType([b.number,b.string,b.func]),linkCurvature:b.oneOfType([b.number,b.string,b.func]),linkDirectionalArrowLength:b.oneOfType([b.number,b.string,b.func]),linkDirectionalArrowColor:b.oneOfType([b.string,b.func]),linkDirectionalArrowRelPos:b.oneOfType([b.number,b.string,b.func]),linkDirectionalParticles:b.oneOfType([b.number,b.string,b.func]),linkDirectionalParticleSpeed:b.oneOfType([b.number,b.string,b.func]),linkDirectionalParticleOffset:b.oneOfType([b.number,b.string,b.func]),linkDirectionalParticleWidth:b.oneOfType([b.number,b.string,b.func]),linkDirectionalParticleColor:b.oneOfType([b.string,b.func]),onLinkHover:b.func,onLinkClick:b.func,dagMode:b.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:b.number,dagNodeFilter:b.func,onDagError:b.func,d3AlphaMin:b.number,d3AlphaDecay:b.number,d3VelocityDecay:b.number,warmupTicks:b.number,cooldownTicks:b.number,cooldownTime:b.number,onEngineTick:b.func,onEngineStop:b.func,getGraphBbox:b.func},Yi={zoomToFit:b.func,onNodeRightClick:b.func,onNodeDrag:b.func,onNodeDragEnd:b.func,onLinkRightClick:b.func,linkHoverPrecision:b.number,onBackgroundClick:b.func,onBackgroundRightClick:b.func,showPointerCursor:b.oneOfType([b.bool,b.func]),enablePointerInteraction:b.bool,enableNodeDrag:b.bool},Rn={showNavInfo:b.bool,nodeOpacity:b.number,nodeResolution:b.number,nodeThreeObject:b.oneOfType([b.object,b.string,b.func]),nodeThreeObjectExtend:b.oneOfType([b.bool,b.string,b.func]),nodePositionUpdate:b.func,linkOpacity:b.number,linkResolution:b.number,linkCurveRotation:b.oneOfType([b.number,b.string,b.func]),linkMaterial:b.oneOfType([b.object,b.string,b.func]),linkThreeObject:b.oneOfType([b.object,b.string,b.func]),linkThreeObjectExtend:b.oneOfType([b.bool,b.string,b.func]),linkPositionUpdate:b.func,linkDirectionalArrowResolution:b.number,linkDirectionalParticleResolution:b.number,linkDirectionalParticleThreeObject:b.oneOfType([b.object,b.string,b.func]),forceEngine:b.oneOf(["d3","ngraph"]),ngraphPhysics:b.object,numDimensions:b.oneOf([1,2,3])},Bh=Object.assign({},Dt,Yi,{linkLineDash:b.oneOfType([b.arrayOf(b.number),b.string,b.func]),nodeCanvasObjectMode:b.oneOfType([b.string,b.func]),nodeCanvasObject:b.func,nodePointerAreaPaint:b.func,linkCanvasObjectMode:b.oneOfType([b.string,b.func]),linkCanvasObject:b.func,linkPointerAreaPaint:b.func,linkDirectionalParticleCanvasObject:b.func,autoPauseRedraw:b.bool,minZoom:b.number,maxZoom:b.number,enableZoomInteraction:b.oneOfType([b.bool,b.func]),enablePanInteraction:b.oneOfType([b.bool,b.func]),onZoom:b.func,onZoomEnd:b.func,onRenderFramePre:b.func,onRenderFramePost:b.func});Object.assign({},Dt,Yi,Rn,{enableNavigationControls:b.bool,controlType:b.oneOf(["trackball","orbit","fly"]),rendererConfig:b.object,extraRenderers:b.arrayOf(b.shape({render:b.func.isRequired}))});Object.assign({},Dt,Rn,{nodeDesc:b.oneOfType([b.string,b.func]),linkDesc:b.oneOfType([b.string,b.func])});Object.assign({},Dt,Rn,{markerAttrs:b.object,yOffset:b.number,glScale:b.number});const zn=Xa(Fh,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});zn.displayName="ForceGraph2D";zn.propTypes=Bh;function Gh(){const{theme:e}=Ta(),[n,r]=H.useState({nodes:[],links:[]}),[i,a]=H.useState(!1),o=H.useRef();H.useEffect(()=>{(()=>{const u=[],p=[];u.push({id:"router-core",group:1,val:20,label:"Core Router",type:"router"});for(let g=1;g<=5;g++){const y=`server-${g}`;u.push({id:y,group:2,val:10,label:`App Server ${g}`,type:"server"}),p.push({source:"router-core",target:y,value:2})}for(let g=1;g<=3;g++){const y=`db-${g}`;u.push({id:y,group:3,val:15,label:`Database ${g}`,type:"database"}),p.push({source:`server-${g}`,target:y,value:3})}for(let g=1;g<=15;g++){const y=`client-${g}`;u.push({id:y,group:4,val:5,label:`Client ${g}`,type:"client"});const v=`server-${Math.floor(Math.random()*5)+1}`;p.push({source:y,target:v,value:1})}r({nodes:u,links:p})})()},[]);const s=h=>{o.current&&(o.current.centerAt(h.x,h.y,1e3),o.current.zoom(2,2e3))},l=e==="dark"?"#0f172a":"#f8fafc",c=e==="dark"?"#475569":"#cbd5e1",f=e==="dark"?"#f1f5f9":"#0f172a";return d.jsxs("div",{className:`topology-container ${i?"fullscreen":""}`,style:{background:l,borderRadius:"12px",overflow:"hidden",border:"1px solid var(--border-color)",position:i?"fixed":"relative",top:i?0:"auto",left:i?0:"auto",width:i?"100vw":"100%",height:i?"100vh":"500px",zIndex:i?1e3:1},children:[d.jsxs("div",{className:"topology-header",style:{position:"absolute",top:10,left:10,zIndex:10,display:"flex",gap:"10px"},children:[d.jsx("button",{onClick:()=>a(!i),className:"btn-icon",style:{background:e==="dark"?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.8)",padding:"8px",borderRadius:"6px",color:f,border:"1px solid var(--border-color)"},children:i?d.jsx(Qi,{size:16}):d.jsx(Ji,{size:16})}),d.jsx("button",{onClick:()=>{o.current&&o.current.zoomToFit(400)},className:"btn-icon",style:{background:e==="dark"?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.8)",padding:"8px",borderRadius:"6px",color:f,border:"1px solid var(--border-color)"},children:d.jsx(vn,{size:16})})]}),d.jsx(zn,{ref:o,graphData:n,nodeLabel:"label",nodeColor:h=>h.group===1?"#ef4444":h.group===2?"#3b82f6":h.group===3?"#f59e0b":"#10b981",linkColor:()=>c,backgroundColor:l,onNodeClick:s,nodeRelSize:6})]})}const zr=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Wh(){const{addToast:e}=Zi(),[n,r]=H.useState("24h"),[i,a]=H.useState([]),[o,s]=H.useState([]),[l,c]=H.useState([]),[f,h]=H.useState(!0);return H.useEffect(()=>{(async()=>{h(!0);try{const p=await Le.getTrafficStats(n),g=await Le.getProtocolStats();if(p&&Array.isArray(p)){const y=p.map(v=>({time:new Date(v.timestamp).getHours()+":00",inbound:Math.floor(v.bytes/1024/1024),outbound:Math.floor(v.bytes/1024/1024*.6)}));a(y)}else throw new Error("Invalid traffic response");if(g&&Array.isArray(g)){const y=g.slice(0,6).map(v=>({name:v.protocol||v.name,value:v.count||v.value}));s(y)}else throw new Error("Invalid protocol response")}catch(p){console.warn("Failed to load network analytics from API, using mock data:",p),await new Promise(v=>setTimeout(v,800));const g=[],y=new Date;for(let v=24;v>=0;v--)g.push({time:new Date(y.getTime()-v*36e5).getHours()+":00",inbound:Math.floor(Math.random()*500)+200,outbound:Math.floor(Math.random()*300)+100});a(g),s([{name:"HTTPS",value:45},{name:"DNS",value:15},{name:"HTTP",value:12},{name:"SSH",value:8},{name:"SMB",value:5},{name:"Other",value:15}]),c([{ip:"192.168.1.105",bytes:"4.2 GB",flows:12450,risk:"High"},{ip:"192.168.1.200",bytes:"2.1 GB",flows:8540,risk:"Medium"},{ip:"192.168.1.15",bytes:"1.8 GB",flows:6200,risk:"Low"},{ip:"10.0.0.5",bytes:"950 MB",flows:4100,risk:"Low"},{ip:"172.16.0.25",bytes:"500 MB",flows:1200,risk:"Critical"}])}finally{h(!1)}})()},[n]),f?d.jsx("div",{className:"loading-state",children:"Loading network analytics..."}):d.jsxs("div",{className:"network-analytics",children:[d.jsxs("div",{className:"analytics-header",children:[d.jsxs("div",{className:"header-title",children:[d.jsx("h2",{children:"Network Traffic Analysis"}),d.jsxs("span",{className:"live-badge",children:[d.jsx("span",{className:"pulse-dot"})," Live"]})]}),d.jsxs("div",{className:"header-controls",children:[d.jsxs("select",{value:n,onChange:u=>r(u.target.value),className:"control-select",children:[d.jsx("option",{value:"1h",children:"Last 1 Hour"}),d.jsx("option",{value:"6h",children:"Last 6 Hours"}),d.jsx("option",{value:"24h",children:"Last 24 Hours"}),d.jsx("option",{value:"7d",children:"Last 7 Days"})]}),d.jsxs("button",{className:"btn-secondary",children:[d.jsx(ea,{className:"w-4 h-4"})," Export Report"]})]})]}),d.jsxs("div",{className:"charts-row",children:[d.jsxs("div",{className:"chart-card wide",children:[d.jsx("div",{className:"card-header",children:d.jsxs("h3",{children:[d.jsx(xt,{className:"w-4 h-4 text-blue-400"})," Traffic Volume (Mbps)"]})}),d.jsx("div",{className:"chart-container",children:d.jsx(Zt,{width:"100%",height:"100%",children:d.jsxs(Ur,{data:i,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorIn",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),d.jsxs("linearGradient",{id:"colorOut",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),d.jsx(Hr,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(qr,{dataKey:"time",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Vr,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Kt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},itemStyle:{color:"#e2e8f0"}}),d.jsx(Un,{}),d.jsx(Qt,{type:"monotone",dataKey:"inbound",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorIn)",name:"Inbound"}),d.jsx(Qt,{type:"monotone",dataKey:"outbound",stroke:"#10b981",fillOpacity:1,fill:"url(#colorOut)",name:"Outbound"})]})})})]}),d.jsxs("div",{className:"chart-card",children:[d.jsx("div",{className:"card-header",children:d.jsxs("h3",{children:[d.jsx(In,{className:"w-4 h-4 text-purple-400"})," Protocol Distribution"]})}),d.jsx("div",{className:"chart-container",children:d.jsx(Zt,{width:"100%",height:"100%",children:d.jsxs(Sa,{children:[d.jsx(Aa,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:o.map((u,p)=>d.jsx(Na,{fill:zr[p%zr.length]},`cell-${p}`))}),d.jsx(Kt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),d.jsx(Un,{layout:"vertical",verticalAlign:"middle",align:"right"})]})})})]})]}),d.jsxs("div",{className:"data-row",children:[d.jsxs("div",{className:"data-card wide",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("h3",{children:[d.jsx(ta,{className:"w-4 h-4 text-orange-400"})," Top Talkers"]}),d.jsx("button",{className:"btn-text",children:"View All"})]}),d.jsxs("table",{className:"analytics-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"IP Address"}),d.jsx("th",{children:"Total Bytes"}),d.jsx("th",{children:"Flows"}),d.jsx("th",{children:"Risk Level"}),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:l.map((u,p)=>d.jsxs("tr",{children:[d.jsx("td",{className:"mono text-cyan-400",children:u.ip}),d.jsx("td",{children:u.bytes}),d.jsx("td",{children:u.flows.toLocaleString()}),d.jsx("td",{children:d.jsx("span",{className:`risk-badge ${u.risk.toLowerCase()}`,children:u.risk})}),d.jsx("td",{children:d.jsx("button",{className:"btn-xs",onClick:()=>e(`Analyzing traffic for ${u.ip}...`,"info"),children:"Analyze"})})]},p))})]})]}),d.jsxs("div",{className:"stats-column",children:[d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-label",children:"Total Bandwidth"}),d.jsx("div",{className:"stat-number",children:"1.2 Gbps"}),d.jsx("div",{className:"stat-trend up",children:" 15% peak"})]}),d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-label",children:"Active Connections"}),d.jsx("div",{className:"stat-number",children:"24,502"}),d.jsx("div",{className:"stat-trend neutral",children:"~ Stable"})]}),d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-label",children:"Unique IPs"}),d.jsx("div",{className:"stat-number",children:"1,892"}),d.jsx("div",{className:"stat-trend up",children:" 12 new"})]})]})]}),d.jsxs("div",{className:"chart-card wide",style:{marginTop:"20px"},children:[d.jsx("div",{className:"card-header",children:d.jsxs("h3",{children:[d.jsx(In,{className:"w-4 h-4 text-cyan-400"})," Network Topology"]})}),d.jsx("div",{className:"chart-container",style:{height:"auto",minHeight:"500px"},children:d.jsx(Gh,{})})]})]})}const od=Object.freeze(Object.defineProperty({__proto__:null,default:Wh},Symbol.toStringTag,{value:"Module"}));function Xh(){const[e,n]=H.useState([]),[r,i]=H.useState(!0),[a,o]=H.useState(null);H.useEffect(()=>{const c=u=>{if(!u)return"-";const p=new Date,g=new Date(u),y=p.getTime()-g.getTime();if(y<0)return"0d 0h 0m";const v=Math.floor(y/(1e3*60*60*24)),_=Math.floor(y%(1e3*60*60*24)/(1e3*60*60)),m=Math.floor(y%(1e3*60*60)/(1e3*60));return`${v}d ${_}h ${m}m`},f=u=>typeof u!="number"||u<0?"0 Mbps":`${(u*8/(1e3*1e3)).toFixed(2)} Mbps`;(async()=>{i(!0);try{const u=await Le.getSensors();if(u&&u.sensors){const p=u.sensors.map(g=>({id:g.id,name:g.name,location:g.location||"Unknown",status:g.status,ip:g.ip_address||g.ip||"N/A",uptime:c(g.last_heartbeat),cpu:g.last_metrics?.cpu||0,ram:g.last_metrics?.ram||0,disk:g.last_metrics?.disk||0,interface:g.interface||"eth0",traffic:f(g.last_metrics?.bytes_per_sec),version:g.version||"2.4.0"}));n(p),p.length>0&&o(p[0])}else throw new Error("Invalid sensor response")}catch(u){console.warn("Failed to load sensors from API, using mock data:",u);const p=[{id:"sensor-01",name:"Gateway-Primary",location:"HQ Server Room",status:"online",ip:"192.168.1.5",uptime:"14d 2h 15m",cpu:45,ram:62,disk:28,interface:"eth0",traffic:"850 Mbps",version:"2.4.0"},{id:"sensor-02",name:"Gateway-Backup",location:"HQ Server Room",status:"online",ip:"192.168.1.6",uptime:"45d 12h 30m",cpu:12,ram:34,disk:15,interface:"eth0",traffic:"12 Mbps",version:"2.4.0"},{id:"sensor-03",name:"Branch-NY",location:"New York Office",status:"warning",ip:"10.50.1.5",uptime:"2d 5h 10m",cpu:88,ram:75,disk:45,interface:"eth1",traffic:"120 Mbps",version:"2.3.5"},{id:"sensor-04",name:"Branch-LDN",location:"London Office",status:"offline",ip:"10.60.1.5",uptime:"-",cpu:0,ram:0,disk:0,interface:"-",traffic:"-",version:"2.3.5"},{id:"sensor-05",name:"Cloud-AWS-East",location:"AWS us-east-1",status:"online",ip:"172.16.0.100",uptime:"120d 1h 5m",cpu:25,ram:40,disk:12,interface:"ens5",traffic:"450 Mbps",version:"2.4.0"}];n(p),o(p[0])}finally{i(!1)}})()},[]);const s=c=>{switch(c){case"online":return d.jsx(Lr,{className:"w-4 h-4 text-green-400"});case"warning":return d.jsx($r,{className:"w-4 h-4 text-yellow-400"});case"offline":return d.jsx(Dr,{className:"w-4 h-4 text-red-400"});default:return d.jsx(xt,{className:"w-4 h-4 text-gray-400"})}},l=c=>{switch(c){case"online":return"bg-green-500/10 text-green-400 border-green-500/20";case"warning":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"offline":return"bg-red-500/10 text-red-400 border-red-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}};return r?d.jsx("div",{className:"loading-state",children:"Loading sensor fleet..."}):d.jsxs("div",{className:"sensor-management",children:[d.jsxs("div",{className:"sensor-header",children:[d.jsxs("div",{className:"header-title",children:[d.jsx("h2",{children:"Sensor Fleet Management"}),d.jsxs("div",{className:"fleet-stats",children:[d.jsx("span",{className:"stat-badge success",children:"3 Online"}),d.jsx("span",{className:"stat-badge warning",children:"1 Warning"}),d.jsx("span",{className:"stat-badge danger",children:"1 Offline"})]})]}),d.jsxs("button",{className:"btn-primary",children:[d.jsx(vn,{className:"w-4 h-4"})," Refresh Fleet"]})]}),d.jsxs("div",{className:"sensor-content",children:[d.jsxs("div",{className:"sensor-list-panel",children:[d.jsx("div",{className:"panel-header",children:d.jsx("h3",{children:"Sensors"})}),d.jsx("div",{className:"sensor-list",children:e.map(c=>d.jsxs("div",{className:`sensor-item ${a?.id===c.id?"active":""}`,onClick:()=>o(c),children:[d.jsxs("div",{className:"sensor-item-header",children:[d.jsx("span",{className:"sensor-name",children:c.name}),s(c.status)]}),d.jsxs("div",{className:"sensor-item-meta",children:[d.jsx("span",{children:c.ip}),d.jsx("span",{className:`status-text ${c.status}`,children:c.status})]})]},c.id))})]}),a&&d.jsxs("div",{className:"sensor-details-panel",children:[d.jsxs("div",{className:"details-header",children:[d.jsxs("div",{className:"details-title",children:[d.jsx(Yt,{className:"w-6 h-6 text-blue-400"}),d.jsxs("div",{children:[d.jsx("h3",{children:a.name}),d.jsx("span",{className:"sensor-id",children:a.id})]})]}),d.jsx("div",{className:`sensor-status-badge ${l(a.status)}`,children:a.status.toUpperCase()})]}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card",children:[d.jsxs("div",{className:"metric-header",children:[d.jsx(na,{className:"w-4 h-4 text-purple-400"}),d.jsx("span",{children:"CPU Usage"})]}),d.jsxs("div",{className:"metric-value",children:[a.cpu,"%"]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:`progress-fill ${a.cpu>80?"danger":"primary"}`,style:{width:`${a.cpu}%`}})})]}),d.jsxs("div",{className:"metric-card",children:[d.jsxs("div",{className:"metric-header",children:[d.jsx(xt,{className:"w-4 h-4 text-blue-400"}),d.jsx("span",{children:"RAM Usage"})]}),d.jsxs("div",{className:"metric-value",children:[a.ram,"%"]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:`progress-fill ${a.ram>80?"danger":"primary"}`,style:{width:`${a.ram}%`}})})]}),d.jsxs("div",{className:"metric-card",children:[d.jsxs("div",{className:"metric-header",children:[d.jsx(ra,{className:"w-4 h-4 text-green-400"}),d.jsx("span",{children:"Disk Usage"})]}),d.jsxs("div",{className:"metric-value",children:[a.disk,"%"]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill success",style:{width:`${a.disk}%`}})})]}),d.jsxs("div",{className:"metric-card",children:[d.jsxs("div",{className:"metric-header",children:[d.jsx(Ir,{className:"w-4 h-4 text-orange-400"}),d.jsx("span",{children:"Traffic"})]}),d.jsx("div",{className:"metric-value",children:a.traffic}),d.jsxs("div",{className:"metric-sub",children:["Interface: ",a.interface]})]})]}),d.jsxs("div",{className:"details-info-grid",children:[d.jsxs("div",{className:"info-group",children:[d.jsx("label",{children:"Location"}),d.jsx("div",{children:a.location})]}),d.jsxs("div",{className:"info-group",children:[d.jsx("label",{children:"IP Address"}),d.jsx("div",{className:"mono",children:a.ip})]}),d.jsxs("div",{className:"info-group",children:[d.jsx("label",{children:"Software Version"}),d.jsxs("div",{children:["v",a.version]})]}),d.jsxs("div",{className:"info-group",children:[d.jsx("label",{children:"Uptime"}),d.jsx("div",{children:a.uptime})]})]}),d.jsxs("div",{className:"sensor-actions",children:[d.jsxs("button",{className:"btn-secondary",children:[d.jsx(ia,{className:"w-4 h-4"})," Remote Console"]}),d.jsx("button",{className:"btn-secondary",children:"View Logs"}),d.jsx("button",{className:"btn-secondary",children:"Configure"}),d.jsx("button",{className:"btn-danger ml-auto",children:"Restart Sensor"})]})]})]})]})}const sd=Object.freeze(Object.defineProperty({__proto__:null,default:Xh},Symbol.toStringTag,{value:"Module"}));function Yh(){const[e,n]=H.useState([]),[r,i]=H.useState(!0),[a,o]=H.useState(null),[s,l]=H.useState("all"),[c,f]=H.useState(""),[h,u]=H.useState({total:0,new24h:0,highRisk:0});H.useEffect(()=>{const v=async()=>{i(!0);try{const[S,x]=await Promise.all([Le.getAssets({limit:100}),Le.getAssetStats().catch(()=>null)]);if(S&&S.assets){const w=S.assets.map(k=>({id:k.id,ip:k.ip_address||"N/A",mac:k.mac_address||"N/A",hostname:k.hostname||k.ip_address||"Unknown",type:_(k.asset_type),os:k.os_type||"Unknown OS",vendor:k.vendor||"Unknown",firstSeen:k.first_seen||k.created_at,lastSeen:m(k.last_seen),riskScore:j(k),openPorts:k.open_ports||[],tags:k.tags||[]}));n(w),u(x?{total:x.total_assets||w.length,new24h:x.new_24h||0,highRisk:x.high_risk||w.filter(k=>k.riskScore>=50).length}:{total:w.length,new24h:0,highRisk:w.filter(k=>k.riskScore>=50).length})}else throw new Error("Invalid asset response")}catch(S){console.warn("Failed to load assets from API, using mock data:",S);const x=[{id:"asset-01",ip:"192.168.1.105",mac:"00:1A:2B:3C:4D:5E",hostname:"finance-workstation-01",type:"workstation",os:"Windows 11 Pro",vendor:"Dell",firstSeen:"2023-10-15T08:30:00",lastSeen:"Just now",riskScore:15,openPorts:[135,139,445,3389],tags:["finance","restricted"]},{id:"asset-02",ip:"192.168.1.200",mac:"AA:BB:CC:DD:EE:FF",hostname:"dc-primary",type:"server",os:"Windows Server 2019",vendor:"VMware",firstSeen:"2023-09-01T00:00:00",lastSeen:"Just now",riskScore:5,openPorts:[53,88,135,389,445,464,636,3268,3269],tags:["infrastructure","critical"]},{id:"asset-03",ip:"192.168.1.15",mac:"11:22:33:44:55:66",hostname:"dev-macbook-pro",type:"laptop",os:"macOS Sonoma 14.2",vendor:"Apple",firstSeen:"2023-11-20T09:15:00",lastSeen:"5m ago",riskScore:45,openPorts:[22,8080,3e3],tags:["developer","wifi"]},{id:"asset-04",ip:"10.0.0.50",mac:"99:88:77:66:55:44",hostname:"iot-camera-lobby",type:"iot",os:"Linux (Embedded)",vendor:"Hikvision",firstSeen:"2023-08-10T14:20:00",lastSeen:"Just now",riskScore:85,openPorts:[80,554],tags:["iot","surveillance"]},{id:"asset-05",ip:"192.168.1.254",mac:"12:34:56:78:90:AB",hostname:"gateway-router",type:"network",os:"Cisco IOS",vendor:"Cisco",firstSeen:"2023-01-01T00:00:00",lastSeen:"Just now",riskScore:0,openPorts:[22,80,443],tags:["network","gateway"]}];n(x),u({total:x.length,new24h:3,highRisk:x.filter(w=>w.riskScore>=50).length})}finally{i(!1)}},_=S=>({endpoint:"workstation",server:"server",laptop:"laptop",mobile:"mobile",iot:"iot",printer:"printer",network:"network"})[S?.toLowerCase()]||"workstation",m=S=>{if(!S)return"Unknown";const x=new Date(S),k=new Date().getTime()-x.getTime(),N=Math.floor(k/6e4);return N<1?"Just now":N<60?`${N}m ago`:N<1440?`${Math.floor(N/60)}h ago`:`${Math.floor(N/1440)}d ago`},j=S=>{let x=0;S.criticality==="high"?x+=40:S.criticality==="medium"?x+=25:S.criticality==="critical"&&(x+=60);const w=S.open_ports?.length||0;return w>10?x+=30:w>5?x+=15:w>0&&(x+=5),Math.min(100,x)};v()},[]);const p=v=>{switch(v){case"server":return d.jsx(Yt,{className:"w-5 h-5 text-purple-400"});case"workstation":return d.jsx(ha,{className:"w-5 h-5 text-blue-400"});case"laptop":return d.jsx(fa,{className:"w-5 h-5 text-blue-300"});case"iot":return d.jsx(Ir,{className:"w-5 h-5 text-orange-400"});case"mobile":return d.jsx(ua,{className:"w-5 h-5 text-green-400"});case"printer":return d.jsx(ca,{className:"w-5 h-5 text-gray-400"});default:return d.jsx(Fr,{className:"w-5 h-5 text-gray-400"})}},g=v=>v>=75?d.jsxs("span",{className:"risk-badge critical",children:["Critical (",v,")"]}):v>=50?d.jsxs("span",{className:"risk-badge high",children:["High (",v,")"]}):v>=25?d.jsxs("span",{className:"risk-badge medium",children:["Medium (",v,")"]}):d.jsxs("span",{className:"risk-badge low",children:["Low (",v,")"]}),y=e.filter(v=>{const _=v.ip.includes(c)||v.hostname.toLowerCase().includes(c.toLowerCase())||v.mac.toLowerCase().includes(c.toLowerCase()),m=s==="all"||v.type===s;return _&&m});return r?d.jsx("div",{className:"loading-state",children:"Scanning network for assets..."}):d.jsxs("div",{className:"asset-discovery",children:[d.jsxs("div",{className:"asset-stats-row",children:[d.jsxs("div",{className:"asset-stat-card",children:[d.jsx("div",{className:"stat-icon bg-blue-500/10 text-blue-400",children:d.jsx(Yt,{className:"w-6 h-6"})}),d.jsxs("div",{className:"stat-info",children:[d.jsx("div",{className:"stat-value",children:h.total}),d.jsx("div",{className:"stat-label",children:"Total Assets"})]})]}),d.jsxs("div",{className:"asset-stat-card",children:[d.jsx("div",{className:"stat-icon bg-green-500/10 text-green-400",children:d.jsx(aa,{className:"w-6 h-6"})}),d.jsxs("div",{className:"stat-info",children:[d.jsx("div",{className:"stat-value",children:h.new24h}),d.jsx("div",{className:"stat-label",children:"New (24h)"})]})]}),d.jsxs("div",{className:"asset-stat-card",children:[d.jsx("div",{className:"stat-icon bg-red-500/10 text-red-400",children:d.jsx(oa,{className:"w-6 h-6"})}),d.jsxs("div",{className:"stat-info",children:[d.jsx("div",{className:"stat-value",children:h.highRisk}),d.jsx("div",{className:"stat-label",children:"High Risk"})]})]})]}),d.jsxs("div",{className:"asset-content-split",children:[d.jsxs("div",{className:`asset-list-panel ${a?"shrink":""}`,children:[d.jsxs("div",{className:"panel-controls",children:[d.jsxs("div",{className:"search-input",children:[d.jsx(sa,{className:"w-4 h-4"}),d.jsx("input",{type:"text",placeholder:"Search IP, Hostname, MAC...",value:c,onChange:v=>f(v.target.value)})]}),d.jsxs("div",{className:"filter-tabs",children:[d.jsx("button",{className:`filter-tab ${s==="all"?"active":""}`,onClick:()=>l("all"),children:"All"}),d.jsx("button",{className:`filter-tab ${s==="server"?"active":""}`,onClick:()=>l("server"),children:"Servers"}),d.jsx("button",{className:`filter-tab ${s==="workstation"?"active":""}`,onClick:()=>l("workstation"),children:"Workstations"}),d.jsx("button",{className:`filter-tab ${s==="iot"?"active":""}`,onClick:()=>l("iot"),children:"IoT"})]})]}),d.jsx("div",{className:"asset-table-container",children:d.jsxs("table",{className:"asset-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Asset Name"}),d.jsx("th",{children:"IP Address"}),d.jsx("th",{children:"OS / Vendor"}),d.jsx("th",{children:"Risk"}),d.jsx("th",{children:"Last Seen"}),d.jsx("th",{})]})}),d.jsx("tbody",{children:y.map(v=>d.jsxs("tr",{className:a?.id===v.id?"active":"",onClick:()=>o(v),children:[d.jsx("td",{children:p(v.type)}),d.jsxs("td",{children:[d.jsx("div",{className:"asset-name",children:v.hostname}),d.jsx("div",{className:"asset-mac",children:v.mac})]}),d.jsx("td",{className:"mono",children:v.ip}),d.jsxs("td",{children:[d.jsx("div",{className:"asset-os",children:v.os}),d.jsx("div",{className:"asset-vendor",children:v.vendor})]}),d.jsx("td",{children:g(v.riskScore)}),d.jsx("td",{className:"text-gray-400",children:v.lastSeen}),d.jsx("td",{children:d.jsx(la,{className:"w-4 h-4 text-gray-500"})})]},v.id))})]})})]}),a&&d.jsxs("div",{className:"asset-details-sidebar",children:[d.jsxs("div",{className:"sidebar-header",children:[d.jsx("h3",{children:"Asset Details"}),d.jsx("button",{className:"close-btn",onClick:()=>o(null),children:""})]}),d.jsxs("div",{className:"sidebar-content",children:[d.jsxs("div",{className:"detail-hero",children:[d.jsx("div",{className:"hero-icon",children:p(a.type)}),d.jsxs("div",{className:"hero-info",children:[d.jsx("h2",{children:a.hostname}),d.jsx("div",{className:"hero-ip",children:a.ip})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Identity"}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"MAC Address"}),d.jsx("span",{className:"value mono",children:a.mac})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Vendor"}),d.jsx("span",{className:"value",children:a.vendor})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"OS"}),d.jsx("span",{className:"value",children:a.os})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Type"}),d.jsx("span",{className:"value capitalize",children:a.type})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Network Profile"}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"First Seen"}),d.jsx("span",{className:"value",children:new Date(a.firstSeen).toLocaleDateString()})]}),d.jsx("div",{className:"detail-tags",children:a.tags.map(v=>d.jsx("span",{className:"tag",children:v},v))})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Open Ports"}),d.jsx("div",{className:"ports-grid",children:a.openPorts.map(v=>d.jsxs("div",{className:"port-badge",children:[d.jsx("span",{className:"port-number",children:v}),d.jsx("span",{className:"port-proto",children:"TCP"})]},v))})]}),d.jsxs("div",{className:"detail-actions",children:[d.jsx("button",{className:"btn-primary full-width",children:"View Traffic History"}),d.jsx("button",{className:"btn-secondary full-width",children:"Scan for Vulnerabilities"})]})]})]})]})]})}const ld=Object.freeze(Object.defineProperty({__proto__:null,default:Yh},Symbol.toStringTag,{value:"Module"})),Zh=[{id:1,name:"AlienVault OTX",type:"Community",status:"active",iocs:1250430,lastUpdate:"5m ago"},{id:2,name:"Abuse.ch URLhaus",type:"Malware",status:"active",iocs:45200,lastUpdate:"12m ago"},{id:3,name:"Emerging Threats",type:"IDS Rules",status:"active",iocs:8500,lastUpdate:"1h ago"},{id:4,name:"Custom Blacklist",type:"Internal",status:"active",iocs:150,lastUpdate:"2d ago"},{id:5,name:"CISA Automated Indicator Sharing",type:"Gov",status:"error",iocs:0,lastUpdate:"Failed"}],Kh=[{id:1,ioc:"185.159.82.15",type:"IP",source:"AlienVault OTX",threat:"Cobalt Strike C2",confidence:95,asset:"192.168.1.105",time:"10m ago"},{id:2,ioc:"update-win32-sys.com",type:"Domain",source:"URLhaus",threat:"Malware Download",confidence:88,asset:"192.168.1.15",time:"45m ago"},{id:3,ioc:"44d88612fea8a8f36de82e1278abb02f",type:"Hash",source:"VirusTotal",threat:"Emotet Payload",confidence:100,asset:"192.168.1.200",time:"2h ago"},{id:4,ioc:"103.240.24.10",type:"IP",source:"Emerging Threats",threat:"Scanner",confidence:60,asset:"Gateway",time:"3h ago"}],Qh={totalIocs:1304280,activeThreats:12,blockedConnections:1450,feedHealth:80},cd={totalQueries:452890,blockedQueries:1245,dgaDomains:12,tunnelingAlerts:3},ud=[{time:"00:00",critical:2,high:5,medium:12},{time:"04:00",critical:1,high:3,medium:8},{time:"08:00",critical:5,high:12,medium:25},{time:"12:00",critical:8,high:15,medium:35},{time:"16:00",critical:6,high:10,medium:28},{time:"20:00",critical:3,high:7,medium:15},{time:"23:59",critical:4,high:6,medium:18}],fd=[{name:"Analyst A",active:5,resolved:12},{name:"Analyst B",active:8,resolved:8},{name:"Analyst C",active:3,resolved:15},{name:"Analyst D",active:6,resolved:10}],hd=[{name:"Firewall",value:45},{name:"IDS/IPS",value:25},{name:"Endpoint",value:20},{name:"Email",value:10}],dd=[{id:1,domain:"x8374.bad-site.com",type:"A",client:"192.168.1.105",status:"blocked",category:"Malware",time:"2s ago"},{id:2,domain:"google.com",type:"A",client:"192.168.1.112",status:"allowed",category:"Search",time:"5s ago"},{id:3,domain:"a.root-servers.net",type:"AAAA",client:"192.168.1.200",status:"allowed",category:"Infrastructure",time:"8s ago"},{id:4,domain:"uwq82.dga-gen.org",type:"TXT",client:"192.168.1.15",status:"flagged",category:"DGA",time:"12s ago"},{id:5,domain:"api.slack.com",type:"CNAME",client:"192.168.1.50",status:"allowed",category:"Business",time:"15s ago"}],pd=[{id:1,domain:"tunnel.exfil.io",method:"TXT Records",volume:"45 MB",client:"192.168.1.105",confidence:98,time:"10m ago"},{id:2,domain:"c2.covert.net",method:"Null/Private",volume:"12 KB",client:"192.168.1.15",confidence:85,time:"1h ago"},{id:3,domain:"long-subdomain.bad.com",method:"Long Labels",volume:"2 MB",client:"192.168.1.200",confidence:70,time:"3h ago"}],gd=[{name:"A",count:45e3},{name:"AAAA",count:12e3},{name:"CNAME",count:25e3},{name:"TXT",count:5e3},{name:"MX",count:2e3},{name:"PTR",count:8e3},{name:"SRV",count:1500}],md=[{time:"00:00",qps:120},{time:"04:00",qps:80},{time:"08:00",qps:450},{time:"12:00",qps:600},{time:"16:00",qps:550},{time:"20:00",qps:300},{time:"24:00",qps:150}];function Jh(){const[e,n]=H.useState([]),[r,i]=H.useState([]),[a,o]=H.useState(null),[s,l]=H.useState(!0);H.useEffect(()=>{(async()=>{l(!0);try{const h=await Le.getThreatStats();throw h&&h.total_iocs?(o({totalIocs:h.total_iocs||0,activeThreats:h.active_campaigns||0,blockedConnections:h.blocked_24h||0,feedHealth:h.feed_health||0}),new Error("Using mock data for feeds and matches")):new Error("Invalid threat stats response")}catch(h){console.warn("Threat intel API not available, using mock data:",h),await new Promise(u=>setTimeout(u,800)),n(Zh),i(Kh),o(Qh)}finally{l(!1)}})()},[]);const c=[{name:"00:00",matches:2},{name:"04:00",matches:5},{name:"08:00",matches:12},{name:"12:00",matches:8},{name:"16:00",matches:15},{name:"20:00",matches:6},{name:"24:00",matches:4}];return s?d.jsx("div",{className:"loading-state",children:"Loading threat intelligence..."}):d.jsxs("div",{className:"threat-intel",children:[d.jsxs("div",{className:"intel-stats-row",children:[d.jsxs("div",{className:"intel-stat-card",children:[d.jsx("div",{className:"stat-icon bg-purple-500/10 text-purple-400",children:d.jsx(da,{className:"w-6 h-6"})}),d.jsxs("div",{className:"stat-info",children:[d.jsxs("div",{className:"stat-value",children:[a?.totalIocs?(a.totalIocs/1e6).toFixed(1):0,"M"]}),d.jsx("div",{className:"stat-label",children:"Total IOCs"})]})]}),d.jsxs("div",{className:"intel-stat-card",children:[d.jsx("div",{className:"stat-icon bg-red-500/10 text-red-400",children:d.jsx(pa,{className:"w-6 h-6"})}),d.jsxs("div",{className:"stat-info",children:[d.jsx("div",{className:"stat-value",children:a?.activeThreats}),d.jsx("div",{className:"stat-label",children:"Active Matches"})]})]}),d.jsxs("div",{className:"intel-stat-card",children:[d.jsx("div",{className:"stat-icon bg-blue-500/10 text-blue-400",children:d.jsx(ga,{className:"w-6 h-6"})}),d.jsxs("div",{className:"stat-info",children:[d.jsx("div",{className:"stat-value",children:a?.blockedConnections}),d.jsx("div",{className:"stat-label",children:"Blocked (24h)"})]})]}),d.jsxs("div",{className:"intel-stat-card",children:[d.jsx("div",{className:"stat-icon bg-green-500/10 text-green-400",children:d.jsx(ma,{className:"w-6 h-6"})}),d.jsxs("div",{className:"stat-info",children:[d.jsxs("div",{className:"stat-value",children:[a?.feedHealth,"%"]}),d.jsx("div",{className:"stat-label",children:"Feed Health"})]})]})]}),d.jsxs("div",{className:"intel-content-grid",children:[d.jsxs("div",{className:"intel-left-col",children:[d.jsxs("div",{className:"intel-panel",children:[d.jsxs("div",{className:"panel-header",children:[d.jsxs("h3",{children:[d.jsx(Fr,{className:"w-4 h-4 text-blue-400"})," Intelligence Feeds"]}),d.jsx("button",{className:"btn-icon",children:d.jsx(vn,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"feeds-list",children:e.map(f=>d.jsxs("div",{className:"feed-item",children:[d.jsx("div",{className:"feed-status",children:f.status==="active"?d.jsx(Lr,{className:"w-4 h-4 text-green-400"}):d.jsx(Dr,{className:"w-4 h-4 text-red-400"})}),d.jsxs("div",{className:"feed-info",children:[d.jsx("div",{className:"feed-name",children:f.name}),d.jsxs("div",{className:"feed-meta",children:[d.jsx("span",{children:f.type}),d.jsx("span",{children:""}),d.jsxs("span",{children:[f.iocs.toLocaleString()," IOCs"]})]})]}),d.jsx("div",{className:"feed-update",children:f.lastUpdate})]},f.id))})]}),d.jsxs("div",{className:"intel-panel",children:[d.jsx("div",{className:"panel-header",children:d.jsxs("h3",{children:[d.jsx(xt,{className:"w-4 h-4 text-orange-400"})," Threat Matches (24h)"]})}),d.jsx("div",{className:"chart-container-sm",children:d.jsx(Zt,{width:"100%",height:"100%",children:d.jsxs(Ur,{data:c,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorMatches",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),d.jsx(Hr,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(qr,{dataKey:"name",stroke:"#94a3b8",fontSize:10,tickLine:!1,axisLine:!1}),d.jsx(Vr,{stroke:"#94a3b8",fontSize:10,tickLine:!1,axisLine:!1}),d.jsx(Kt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},itemStyle:{color:"#e2e8f0"}}),d.jsx(Qt,{type:"monotone",dataKey:"matches",stroke:"#f97316",fillOpacity:1,fill:"url(#colorMatches)"})]})})})]})]}),d.jsx("div",{className:"intel-right-col",children:d.jsxs("div",{className:"intel-panel full-height",children:[d.jsxs("div",{className:"panel-header",children:[d.jsxs("h3",{children:[d.jsx($r,{className:"w-4 h-4 text-red-400"})," Recent IOC Matches"]}),d.jsx("button",{className:"btn-text",children:"View All"})]}),d.jsxs("table",{className:"intel-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"IOC"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Threat / Source"}),d.jsx("th",{children:"Confidence"}),d.jsx("th",{children:"Affected Asset"}),d.jsx("th",{children:"Time"}),d.jsx("th",{})]})}),d.jsx("tbody",{children:r.map(f=>d.jsxs("tr",{children:[d.jsx("td",{className:"mono text-red-300",children:f.ioc}),d.jsx("td",{children:d.jsx("span",{className:"type-badge",children:f.type})}),d.jsxs("td",{children:[d.jsx("div",{className:"threat-name",children:f.threat}),d.jsx("div",{className:"threat-source",children:f.source})]}),d.jsxs("td",{children:[d.jsx("div",{className:"confidence-bar",children:d.jsx("div",{className:`confidence-fill ${f.confidence>80?"high":"med"}`,style:{width:`${f.confidence}%`}})}),d.jsxs("span",{className:"confidence-text",children:[f.confidence,"%"]})]}),d.jsx("td",{className:"mono text-blue-300",children:f.asset}),d.jsx("td",{className:"text-gray-400",children:f.time}),d.jsx("td",{children:d.jsx(ya,{className:"w-4 h-4 text-gray-500 cursor-pointer hover:text-white"})})]},f.id))})]})]})})]})]})}const yd=Object.freeze(Object.defineProperty({__proto__:null,default:Jh},Symbol.toStringTag,{value:"Module"}));export{ld as A,od as N,sd as S,ad as T,fd as a,hd as b,md as c,gd as d,cd as e,dd as f,pd as g,yd as h,ud as m,Ta as u};
