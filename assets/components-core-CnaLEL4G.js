import{r as c,C as f,a as E,I as C,X as T,T as w,b as x,H as R}from"./vendor-icons-BDNhdNL_.js";var h={exports:{}},d={};var p;function k(){if(p)return d;p=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(l,t,r){var o=null;if(r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),"key"in t){r={};for(var i in t)i!=="key"&&(r[i]=t[i])}else r=t;return t=r.ref,{$$typeof:a,type:l,key:o,ref:t!==void 0?t:null,props:r}}return d.Fragment=s,d.jsx=n,d.jsxs=n,d}var j;function g(){return j||(j=1,h.exports=k()),h.exports}var e=g();const v=c.createContext(null);function y({children:a}){const[s,n]=c.useState([]),l=c.useCallback((r,o="info",i=3e3)=>{const m=Date.now();n(u=>[...u,{id:m,message:r,type:o}]),setTimeout(()=>{n(u=>u.filter(N=>N.id!==m))},i)},[]),t=c.useCallback(r=>{n(o=>o.filter(i=>i.id!==r))},[]);return e.jsxs(v.Provider,{value:{addToast:l},children:[a,e.jsx("div",{className:"toast-container",children:s.map(r=>e.jsxs("div",{className:`toast toast-${r.type} slide-in`,children:[e.jsxs("div",{className:"toast-icon",children:[r.type==="success"&&e.jsx(f,{className:"w-5 h-5"}),r.type==="error"&&e.jsx(E,{className:"w-5 h-5"}),r.type==="info"&&e.jsx(C,{className:"w-5 h-5"})]}),e.jsx("div",{className:"toast-message",children:r.message}),e.jsx("button",{className:"toast-close",onClick:()=>t(r.id),children:e.jsx(T,{className:"w-4 h-4"})})]},r.id))})]})}function S(){const a=c.useContext(v);if(!a)throw new Error("useToast must be used within a ToastProvider");return a}function P({size:a="medium",message:s="Loading..."}){return e.jsxs("div",{className:`loading-container ${a}`,children:[e.jsxs("div",{className:"loading-spinner",children:[e.jsx("div",{className:"spinner-ring"}),e.jsx("div",{className:"spinner-ring"}),e.jsx("div",{className:"spinner-ring"})]}),s&&e.jsx("p",{className:"loading-message",children:s})]})}class _ extends c.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0,lastErrorTime:null}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,n){const l=Date.now(),r=(this.state.lastErrorTime?l-this.state.lastErrorTime:1/0)<5e3?this.state.errorCount+1:1;console.error("Error caught by boundary:",s,n),this.setState({error:s,errorInfo:n,errorCount:r,lastErrorTime:l}),this.props.onError&&this.props.onError(s,n)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const s=this.props.componentName||"Component";return e.jsx("div",{className:"error-boundary",children:e.jsxs("div",{className:"error-content",children:[e.jsx("div",{className:"error-icon",children:e.jsx(w,{className:"w-16 h-16 text-red-500"})}),e.jsx("h2",{children:"Something went wrong"}),e.jsx("p",{className:"error-message",children:this.props.fallbackMessage||`The ${s} encountered an unexpected error and couldn't recover.`}),!1,e.jsxs("div",{className:"error-actions",children:[e.jsxs("button",{className:"error-retry-btn primary",onClick:this.handleReset,children:[e.jsx(x,{className:"w-4 h-4"}),"Try Again"]}),this.state.errorCount>1&&e.jsxs("button",{className:"error-retry-btn secondary",onClick:this.handleReload,children:[e.jsx(x,{className:"w-4 h-4"}),"Reload Page"]}),e.jsxs("button",{className:"error-retry-btn text",onClick:this.handleGoHome,children:[e.jsx(R,{className:"w-4 h-4"}),"Go Home"]})]}),this.state.errorCount>2&&e.jsxs("div",{className:"error-warning",children:[e.jsxs("p",{children:["⚠️ This error has occurred ",this.state.errorCount," times."]}),e.jsx("p",{children:"There may be a persistent issue. Please contact support if this continues."})]})]})})}return this.props.children}}export{_ as E,P as L,y as T,e as j,S as u};
