import{u as y,j as s}from"./components-core-1jZtVtDL.js";import{r as c,M as b,Q as k,K as S,S as j,J as w,X as C,t as u,V as U,g as A,Y as R}from"./vendor-icons-CSBxVeM_.js";import"./vendor-react-OvXVS5lI.js";function D({onClose:d}){const{addToast:i}=y(),[a,n]=c.useState("general"),[o,h]=c.useState(!1),[x,v]=c.useState([{id:1,name:"Admin User",email:"admin@ndr.local",role:"Administrator",status:"active",lastLogin:"Just now"},{id:2,name:"Security Analyst",email:"analyst@ndr.local",role:"Analyst",status:"active",lastLogin:"2 hours ago"},{id:3,name:"Viewer",email:"audit@ndr.local",role:"Viewer",status:"inactive",lastLogin:"5 days ago"}]),[m,N]=c.useState([{id:1,name:"Sensor Fleet A",prefix:"sk_live_...",created:"2024-01-15",lastUsed:"1m ago",status:"active"},{id:2,name:"SIEM Exporter",prefix:"sk_live_...",created:"2024-02-20",lastUsed:"5m ago",status:"active"},{id:3,name:"Dev Test",prefix:"sk_test_...",created:"2024-03-10",lastUsed:"Never",status:"revoked"}]),[t,r]=c.useState({theme:"dark",refreshRate:"30",retentionDays:"90",emailNotifications:!0,slackNotifications:!1,autoUpdate:!0}),g=()=>{h(!0),setTimeout(()=>{h(!1),i("Settings saved successfully","success")},800)},p=e=>{v(x.filter(l=>l.id!==e)),i("User deleted","info")},f=e=>{N(m.map(l=>l.id===e?{...l,status:"revoked"}:l)),i("API Key revoked","info")};return s.jsx("div",{className:"settings-overlay",children:s.jsxs("div",{className:"settings-modal",children:[s.jsxs("div",{className:"settings-sidebar",children:[s.jsx("div",{className:"settings-header",children:s.jsx("h2",{children:"Settings"})}),s.jsxs("nav",{className:"settings-nav",children:[s.jsxs("button",{className:`nav-item ${a==="general"?"active":""}`,onClick:()=>n("general"),children:[s.jsx(b,{className:"w-4 h-4"})," General"]}),s.jsxs("button",{className:`nav-item ${a==="users"?"active":""}`,onClick:()=>n("users"),children:[s.jsx(k,{className:"w-4 h-4"})," Users & Roles"]}),s.jsxs("button",{className:`nav-item ${a==="apikeys"?"active":""}`,onClick:()=>n("apikeys"),children:[s.jsx(S,{className:"w-4 h-4"})," API Keys"]}),s.jsxs("button",{className:`nav-item ${a==="security"?"active":""}`,onClick:()=>n("security"),children:[s.jsx(j,{className:"w-4 h-4"})," Security"]}),s.jsxs("button",{className:`nav-item ${a==="notifications"?"active":""}`,onClick:()=>n("notifications"),children:[s.jsx(w,{className:"w-4 h-4"})," Notifications"]})]}),s.jsx("div",{className:"settings-footer",children:s.jsx("span",{className:"version",children:"v2.4.0-beta"})})]}),s.jsxs("div",{className:"settings-content",children:[s.jsxs("div",{className:"content-header",children:[s.jsxs("h3",{children:[a==="general"&&"General Configuration",a==="users"&&"User Management",a==="apikeys"&&"API Key Management",a==="security"&&"Security Policies",a==="notifications"&&"Notification Preferences"]}),s.jsx("button",{className:"close-btn",onClick:d,children:s.jsx(C,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"content-body",children:[a==="general"&&s.jsxs("div",{className:"form-section",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Dashboard Refresh Rate (seconds)"}),s.jsxs("select",{value:t.refreshRate,onChange:e=>r({...t,refreshRate:e.target.value}),children:[s.jsx("option",{value:"15",children:"15 seconds"}),s.jsx("option",{value:"30",children:"30 seconds"}),s.jsx("option",{value:"60",children:"60 seconds"}),s.jsx("option",{value:"manual",children:"Manual only"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Data Retention Period (days)"}),s.jsxs("select",{value:t.retentionDays,onChange:e=>r({...t,retentionDays:e.target.value}),children:[s.jsx("option",{value:"30",children:"30 days"}),s.jsx("option",{value:"90",children:"90 days"}),s.jsx("option",{value:"180",children:"180 days"}),s.jsx("option",{value:"365",children:"1 year"})]})]}),s.jsxs("div",{className:"form-group checkbox",children:[s.jsxs("label",{className:"switch",children:[s.jsx("input",{type:"checkbox",checked:t.autoUpdate,onChange:e=>r({...t,autoUpdate:e.target.checked})}),s.jsx("span",{className:"slider round"})]}),s.jsx("span",{children:"Enable Automatic System Updates"})]})]}),a==="users"&&s.jsxs("div",{className:"list-section",children:[s.jsx("div",{className:"list-actions",children:s.jsxs("button",{className:"btn-primary",onClick:()=>i("Add User modal would open here","info"),children:[s.jsx(u,{className:"w-4 h-4"})," Add User"]})}),s.jsxs("table",{className:"settings-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"User"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Last Login"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:x.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"user-cell",children:[s.jsx("div",{className:"user-avatar-sm",children:e.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:e.email})]})]})}),s.jsx("td",{children:s.jsx("span",{className:"role-badge",children:e.role})}),s.jsxs("td",{children:[s.jsx("span",{className:`status-dot ${e.status}`})," ",e.status]}),s.jsx("td",{className:"text-gray-400",children:e.lastLogin}),s.jsx("td",{children:s.jsx("button",{className:"btn-icon-sm text-red-400",onClick:()=>p(e.id),children:s.jsx(U,{className:"w-4 h-4"})})})]},e.id))})]})]}),a==="apikeys"&&s.jsxs("div",{className:"list-section",children:[s.jsx("div",{className:"list-actions",children:s.jsxs("button",{className:"btn-primary",onClick:()=>i("Generate Key modal would open here","info"),children:[s.jsx(u,{className:"w-4 h-4"})," Generate New Key"]})}),s.jsxs("table",{className:"settings-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Key Prefix"}),s.jsx("th",{children:"Created"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:m.map(e=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-medium",children:e.name}),s.jsx("td",{className:"mono text-xs",children:e.prefix}),s.jsx("td",{className:"text-gray-400",children:e.created}),s.jsx("td",{children:s.jsx("span",{className:`status-badge ${e.status}`,children:e.status})}),s.jsx("td",{children:e.status==="active"&&s.jsx("button",{className:"btn-text-danger",onClick:()=>f(e.id),children:"Revoke"})})]},e.id))})]})]}),(a==="security"||a==="notifications")&&s.jsxs("div",{className:"empty-state",children:[s.jsx(j,{className:"w-12 h-12 text-gray-700 mb-4"}),s.jsx("p",{children:"This configuration section is under development."})]})]}),s.jsxs("div",{className:"content-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:d,children:"Cancel"}),s.jsx("button",{className:"btn-primary",onClick:g,disabled:o,children:o?s.jsx(A,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(R,{className:"w-4 h-4"})," Save Changes"]})})]})]})]})})}export{D as default};
